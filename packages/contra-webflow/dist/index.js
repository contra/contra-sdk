'use strict';var client=require('@contra/client');var C=["w_","h_","c_","f_","q_","fl_","vc_","b_","e_","o_","a_","dpr_","ar_"],d="data-contra-",c={listId:"list-id",program:"program",template:"template",loading:"loading",error:"error",empty:"empty",field:"field",format:"format",repeat:"repeat",max:"max",limit:"limit",action:"action",listTarget:"list-target",showWhen:"show-when",hideWhen:"hide-when"},h=class{constructor(){this.states=new Map;}getState(t){return this.states.has(t)||this.states.set(t,{filters:{},experts:[],loading:false,error:null,offset:0,limit:20,totalCount:0,hasNextPage:false}),this.states.get(t)}updateState(t,e){let i=this.getState(t);Object.assign(i,e),this.states.set(t,i);}},m=class{constructor(t){this.state=new h;this.debouncedReload=new Map;this.filterNameMap={locations:"location"};this.filterOptionLabels={sortBy:{relevance:"Relevance",oldest:"Oldest",newest:"Newest",rate_asc:"Rate (Low to High)",rate_desc:"Rate (High to Low)"}};this.config={debug:false,loadingClass:"loading",errorClass:"error",emptyClass:"empty",videoAutoplay:false,videoHoverPlay:true,videoMuted:true,videoLoop:true,videoControls:false,imageTransformations:"f_auto,q_auto:eco,c_limit,w_800",videoTransformations:"fl_progressive,f_auto,q_auto:eco,vc_auto,c_limit,h_720",optimizeGifsAsVideo:true,...t},this.client=new client.ContraClient({apiKey:this.config.apiKey,debug:this.config.debug}),this.log("Runtime initialized",this.config);}async init(){this.log("Initializing runtime...");try{let t=this.querySelectorAll(document.body,`[${d}${c.listId}]`);this.log(`Found ${t.length} lists to initialize.`);let e=new Map;for(let i of t){let s=this.getAttr(i,c.program);s&&!e.has(s)&&(this.log(`Fetching filters for program: ${s}`),e.set(s,await this.getAvailableFilters(s)));}this.populateAllFilterControls(e);for(let i of t)await this.initList(i);this.wireActionButtons(),this.wireFilterControls(),this.log("Runtime initialization complete");}catch(t){throw this.log("Runtime initialization failed",t),t}}async initList(t){let e=this.getAttr(t,c.listId),i=this.getAttr(t,c.program);if(!e||!i){this.log("List element is missing required attributes `data-contra-list-id` or `data-contra-program`.",t);return}this.log(`Initializing list: ${e} for program: ${i}`);try{t.setAttribute("data-contra-initialized","true"),t.classList.add("contra-list");let s=this.querySelector(t,`[${d}${c.template}]`);s&&(s.style.display="none",this.log(`Template found and hidden for list: ${e}`));let n=this.querySelector(t,`[${d}${c.loading}]`);n&&n.style.removeProperty("display");let r=this.querySelector(t,`[${d}${c.empty}]`);r&&r.style.removeProperty("display");let a=this.parseFiltersFromElement(t),o=parseInt(this.getAttr(t,c.limit)||"20",10);this.state.updateState(e,{filters:a,limit:o,offset:a.offset||0}),this.state.updateState(e,{loading:!0,error:null}),this.showLoading(t,!0);let l=await this.client.listExperts(i,a);this.log(`Loaded ${l.data.length} experts for list ${e}`,l);let p=l.data,u=p;this.state.updateState(e,{experts:u,totalCount:l.totalCount,offset:a.offset||0+p.length,hasNextPage:p.length===o,loading:!1}),this.renderExperts(t,p,!1),this.updateUIStates(t,e);}catch(s){this.log(`Failed to initialize list ${e}`,s),this.state.updateState(e,{loading:false,error:s}),this.showError(t,s);}finally{this.showLoading(t,false);}}wireActionButtons(){this.querySelectorAll(document.body,`[${d}${c.action}]`).forEach(e=>{let i=this.getAttr(e,c.action),s=this.getAttr(e,c.listTarget);if(!i||!s){this.log("Action button is missing required `data-contra-action` or `data-contra-list-target` attributes.",e);return}e.addEventListener("click",n=>{n.preventDefault(),this.handleAction(i,s,e);});});}async loadExperts(t,e,i=false){let s=this.querySelector(document.body,`[${d}${c.listId}="${t}"]`);if(!s){this.log(`Cannot find list element with ID: ${t}`);return}let n=this.querySelector(s,`[${d}${c.empty}]`);!i&&n&&(n.style.display="none");let r=this.state.getState(t),a={...r.filters,limit:r.limit,offset:r.offset};this.log(`Loading experts for list: ${t}`,a);try{this.showLoading(s,!0),this.state.updateState(t,{loading:!0,error:null});let o=await this.client.listExperts(e,a);this.log(`Loaded ${o.data.length} experts for list ${t}`,o);let l=o.data,p=i?[...r.experts,...l]:l;this.state.updateState(t,{experts:p,totalCount:o.totalCount,offset:r.offset+l.length,hasNextPage:l.length===r.limit,loading:!1}),this.renderExperts(s,l,i),this.updateUIStates(s,t);}catch(o){this.log(`Failed to load experts for list: ${t}`,o),this.state.updateState(t,{loading:false,error:o}),this.showError(s,o);}finally{this.showLoading(s,false);}}renderExperts(t,e,i){let s=this.querySelector(t,`[${d}${c.template}]`);if(!s){this.log("No template found in list",t);return}i||this.querySelectorAll(t,".contra-rendered-item").forEach(a=>a.remove());let n=document.createDocumentFragment();e.forEach(r=>{let a=this.populateExpertCard(s,r);n.appendChild(a);}),t.appendChild(n),this.log(`Rendered ${e.length} expert cards into list`,t);}populateExpertCard(t,e){let i=t.cloneNode(true);return i.classList.add("contra-rendered-item"),i.removeAttribute(`${d}${c.template}`),i.style.display="",this.populateFields(i,e),this.populateRepeatingElements(i,e),this.handleConditionalDisplay(i,e),i}populateFields(t,e){this.querySelectorAll(t,`[${d}${c.field}]`).forEach(n=>{let r=this.getAttr(n,c.field),a=this.getAttr(n,c.format);if(!r||!(r in e))return;let o=e[r];this.setElementValue(n,o,a);}),this.querySelectorAll(t,"[data-contra-stars]").forEach(n=>{e.averageReviewScore&&this.renderStarRating(n,e.averageReviewScore);});}setElementValue(t,e,i){if(!(e==null||e==="")){if(this.isMediaField(t)&&typeof e=="string"&&e.trim()){this.setMediaValue(t,e);return}if(t instanceof HTMLAnchorElement)t.href=String(e),t.children.length===0&&!t.textContent?.trim()&&(t.textContent=String(e));else if(t instanceof HTMLInputElement)t.value=String(e);else if(t instanceof HTMLImageElement){let s=this.detectMediaType(String(e)),n=this.transformMediaUrl(String(e),s);t.src=n,t.alt=t.alt||"Image";}else {let s=String(e);if(i)switch(i){case "currency":s=typeof e=="number"?`$${e}`:s;break;case "rate":s=client.utils.formatRate(typeof e=="number"?e:null);break;case "rating":s=typeof e=="number"?e.toFixed(1):s;break;case "earnings":typeof e=="number"&&(e>=1e6?s=`$${Math.floor(e/1e6)}M+`:e>=1e3?s=`$${Math.floor(e/1e3)}k+`:s=`$${e}`);break;case "number":s=typeof e=="number"?e.toLocaleString():s;break;case "truncate":s=s.length>100?s.substring(0,97)+"...":s;break;case "boolean":s=e?"Yes":"No";break;case "availability":s=e?"Available":"Not Available";break}t.textContent=s;}}}renderStarRating(t,e){let i=Math.floor(e),s=e%1>=.5,n=5-i-(s?1:0),r="";for(let o=0;o<i;o++)r+='<span class="contra-star contra-star-full">\u2605</span>';s&&(r+='<span class="contra-star contra-star-half">\u2605</span>');for(let o=0;o<n;o++)r+='<span class="contra-star contra-star-empty">\u2606</span>';t.innerHTML=r;let a=t.closest("[data-contra-template]")||t.closest(".expert-card");a&&this.querySelectorAll(a,"[data-contra-rating-text]").forEach(l=>{l.textContent=e.toFixed(1);});}isMediaField(t){return this.getAttr(t,c.field)==="coverUrl"}setMediaValue(t,e){let i=this.detectMediaType(e),s=t.parentElement;if(!s){this.log("Media element has no parent for replacement",t);return}t.remove();let n;switch(i){case "video":let r=this.transformMediaUrl(e,"video");n=this.createVideoElement(r,t);break;case "image":default:let a=this.transformMediaUrl(e,"image");n=this.createImageElement(a,t);break}this.transferAttributes(t,n),s.appendChild(n),this.log(`Created ${i} element for URL: ${e}`);}detectMediaType(t){if(!t||typeof t!="string")return this.log("Invalid URL provided to detectMediaType:",t),"image";let e=t.toLowerCase();if(this.config.optimizeGifsAsVideo&&e.endsWith(".gif"))return "video";let s=[".mp4",".webm",".mov",".avi",".mkv",".ogg"].some(r=>e.endsWith(r)),n=e.includes("cloudinary.com/")&&e.includes("/video/");return s||n?"video":"image"}createVideoElement(t,e){let i=document.createElement("video");i.src=t,i.loop=this.config.videoLoop,i.playsInline=true,i.preload="metadata",i.controls=this.config.videoControls,this.config.videoMuted&&(i.muted=true,i.setAttribute("muted","")),i.style.width="100%",i.style.height="100%",i.style.objectFit="cover",i.style.borderRadius="inherit",this.config.videoAutoplay&&(i.autoplay=true,i.setAttribute("autoplay",""));let s=this.extractVideoThumbnail(t);if(s){let n=new Image;n.onload=()=>{i.poster=s,this.log(`\u2705 Applied poster: ${s.split("/").pop()}`);},n.onerror=()=>{this.log(`\u26A0\uFE0F Generated poster failed: ${s.split("/").pop()}`);},n.src=s;}if(i.onerror=()=>{this.log(`Video failed to load: ${t}`);let n=this.createImageElement(s||t,e);i.parentElement&&i.parentElement.replaceChild(n,i);},this.config.videoHoverPlay&&!this.config.videoAutoplay){let n=false,r=()=>{n||(i.currentTime=0,i.play().then(()=>{n=true;}).catch(l=>{this.log("Video play failed:",l);}));},a=()=>{n&&(i.pause(),i.currentTime=0,n=false);};i.addEventListener("mouseenter",r),i.addEventListener("mouseleave",a);let o;i.addEventListener("touchstart",l=>{o&&clearTimeout(o),r(),o=window.setTimeout(()=>{a();},3e3);},{passive:true}),i.addEventListener("touchend",()=>{o&&clearTimeout(o),setTimeout(a,100);},{passive:true});}return i}createImageElement(t,e){let i=document.createElement("img");return i.src=t,i.alt=e.getAttribute("alt")||"Media content",i.loading="lazy",i.style.width="100%",i.style.height="100%",i.style.objectFit="cover",i.style.borderRadius="inherit",i.onerror=()=>{this.log(`Image failed to load: ${t}`),i.style.background="#f3f4f6",i.style.opacity="0.5",i.alt="Image unavailable",i.style.position="relative";let s=document.createElement("div");s.style.cssText=`
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: #9ca3af;
        font-size: 12px;
        text-align: center;
      `,s.textContent="\u{1F5BC}\uFE0F Image unavailable",i.parentElement?.appendChild(s);},i}extractVideoThumbnail(t){if(!this.isValidCloudinaryUrl(t))return null;try{let e=t;e.includes("/video/")&&(e=e.replace("/video/","/image/"));let i=e.match(/\.(mp4|webm|mov|avi|mkv|ogg)(\?.*)?$/i);if(i){let n=i[2]||"";e=e.replace(i[0],".jpg"+n);}else if(!e.includes(".jpg")&&!e.includes(".png")){let n=e.indexOf("?");n>-1?e=e.substring(0,n)+".jpg"+e.substring(n):e+=".jpg";}let s=this.transformMediaUrl(e,"image");return this.log(`Generated poster URL: ${t} -> ${s}`),s}catch(e){return this.log(`Failed to generate poster for: ${t}`,e),null}}isValidCloudinaryUrl(t){return !t||typeof t!="string"?false:(t.includes("cloudinary.com")||t.includes("media.contra.com"))&&t.includes("/upload/")}transferAttributes(t,e){if(t.className&&(e.className=t.className),Array.from(t.attributes).forEach(i=>{i.name.startsWith("data-")&&i.name!==`${d}${c.field}`&&e.setAttribute(i.name,i.value);}),t.getAttribute("style")){let i=e.getAttribute("style")||"";e.setAttribute("style",i+"; "+t.getAttribute("style"));}}populateRepeatingElements(t,e){this.querySelectorAll(t,`[${d}${c.repeat}]`).forEach(s=>{let n=this.getAttr(s,c.repeat),r=parseInt(this.getAttr(s,c.max)||"10");n==="projects"&&e.projects?this.populateRepeatingContainer(s,e.projects.slice(0,r)):n==="socialLinks"&&e.socialLinks?this.populateRepeatingContainer(s,e.socialLinks.slice(0,r)):n==="skillTags"&&e.skillTags&&this.populateRepeatingContainer(s,e.skillTags.slice(0,r).map(a=>({name:a})));});}populateRepeatingContainer(t,e){let i=t.firstElementChild;i&&(t.innerHTML="",e.forEach(s=>{let n=i.cloneNode(true);if(this.getAttr(t,c.repeat)==="skillTags"&&typeof s=="object"&&s.name){let a=this.querySelector(n,`[${d}${c.field}="name"]`);a&&(a.textContent=s.name);}else this.populateFields(n,s);t.appendChild(n);}),e.length===0&&(t.style.display="none"));}handleConditionalDisplay(t,e){this.querySelectorAll(t,`[${d}${c.showWhen}], [${d}${c.hideWhen}]`).forEach(s=>{let n=this.getAttr(s,c.showWhen),r=this.getAttr(s,c.hideWhen),a=true;n&&(a=this.evaluateCondition(e,n)),r&&(a=a&&!this.evaluateCondition(e,r)),s.style.display=a?"":"none";});}evaluateCondition(t,e){if(!e||typeof e!="string")return this.log("Invalid condition provided:",e),false;let i=e.split(":");if(i.length<2)return this.log("Invalid condition format:",e),false;let s=i[0],n=i.slice(1).join(":"),r=t[s];if(this.log(`Evaluating condition: ${s} (${r}, type: ${typeof r}) against ${n}`),r==null)return this.log(`Field '${s}' is null/undefined, condition fails`),false;if(n.startsWith(">=")){let a=n.substring(2),o=Number(r)>=Number(a);return this.log(`Comparison: ${r} >= ${a} = ${o}`),o}else if(n.startsWith("<=")){let a=n.substring(2),o=Number(r)<=Number(a);return this.log(`Comparison: ${r} <= ${a} = ${o}`),o}else if(n.startsWith(">")){let a=n.substring(1),o=Number(r)>Number(a);return this.log(`Comparison: ${r} > ${a} = ${o}`),o}else if(n.startsWith("<")){let a=n.substring(1),o=Number(r)<Number(a);return this.log(`Comparison: ${r} < ${a} = ${o}`),o}else {let a=false;if(typeof r=="boolean")n.toLowerCase()==="true"?a=r===true:n.toLowerCase()==="false"?a=r===false:a=false,this.log(`Boolean comparison: ${r} === ${n.toLowerCase()==="true"} = ${a}`);else if(typeof r=="number"){let o=Number(n);a=!isNaN(o)&&r===o,this.log(`Number comparison: ${r} === ${o} = ${a}`);}else {let o=String(r),l=String(n);a=o.toLowerCase()===l.toLowerCase(),this.log(`String comparison: '${o}' === '${l}' = ${a}`);}return a}}updateUIStates(t,e){let i=this.state.getState(e),s=this.querySelector(t,`[${d}${c.empty}]`);if(s){let a=!i.loading&&i.experts.length===0?"block":"none";s.style.setProperty("display",a,"important"),this.log(`List ${e}: Empty state display set to '${a}'.`);}let n=this.querySelector(document.body,`[${d}${c.action}="load-more"][${d}${c.listTarget}="${e}"]`);if(n){let r=n,o=!i.loading&&i.hasNextPage?"inline-block":"none";n.style.setProperty("display",o,"important"),r.disabled=i.loading,r.textContent=i.loading?"Loading...":"Load More";}}handleAction(t,e,i){if(t==="load-more"){let s=this.querySelector(document.body,`[${d}${c.listId}="${e}"]`),n=this.getAttr(s,c.program);s&&n?this.loadExperts(e,n,true):this.log(`Could not find list or program for target: ${e}`);}else t==="clear-filters"&&this.clearFilters(e);}clearFilters(t){let e=this.querySelector(document.body,`[${d}${c.listId}="${t}"]`);if(!e){this.log(`Cannot find list element with ID: ${t} to clear filters.`);return}let i=this.getAttr(e,c.program);if(!i){this.log(`Cannot find programId for list: ${t}`);return}this.log(`Clearing filters for list: ${t}`),this.state.updateState(t,{filters:{},offset:0}),this.querySelectorAll(document.body,`[data-contra-filter][data-contra-list-target="${t}"]`).forEach(n=>{this.resetControlValue(n);}),this.loadExperts(t,i,false);}resetControlValue(t){if(t instanceof HTMLInputElement)switch(t.type){case "checkbox":case "radio":t.checked=false;break;case "number":case "range":t.value="";break;default:t.value="";break}else t instanceof HTMLSelectElement&&(t.selectedIndex=0);}updateFilterAndReload(t,e,i,s){let r={...this.state.getState(t).filters},a=s;if(i==="available"?a=s?true:void 0:["minRate","maxRate"].includes(i)?a=s===""||s===null?void 0:Number(s):i==="languages"&&typeof s=="string"&&(a=s.split(",").map(o=>o.trim()).filter(o=>o),a.length===0&&(a=void 0)),a!==void 0&&a!==""){let o=this.filterNameMap[i]||i;r[o]=a;}else {let o=this.filterNameMap[i]||i;delete r[o];}this.state.updateState(t,{filters:r,offset:0}),this.log(`Filter updated for list ${t}, reloading. New filters:`,r),this.loadExperts(t,e,false);}wireFilterControls(){let t=this.querySelectorAll(document.body,"[data-contra-filter]");this.log(`Found ${t.length} filter controls to wire.`),t.forEach(e=>{let i=e.getAttribute("data-contra-filter"),s=e.getAttribute("data-contra-list-target");if(!i||!s){this.log("Filter control missing required attributes: data-contra-filter or data-contra-list-target",e);return}let n=this.querySelector(document.body,`[${d}list-id="${s}"]`);if(!n)return;let r=this.getAttr(n,c.program);if(!r)return;let a=e instanceof HTMLInputElement&&["text","search"].includes(e.type)?300:0,o=()=>{let u=this.getControlValue(e);this.updateFilterAndReload(s,r,i,u);},l=this.debounce(o,a),p=e instanceof HTMLInputElement&&["text","search"].includes(e.type)?"input":"change";e.addEventListener(p,l);});}debounce(t,e){let i;return (...s)=>{clearTimeout(i),e>0?i=window.setTimeout(()=>t.apply(this,s),e):t.apply(this,s);}}getAttr(t,e){return t.getAttribute(`${d}${e}`)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return Array.from(t.querySelectorAll(e))}parseFiltersFromElement(t){let e={};return Object.entries({available:"available",languages:"languages",location:"location","min-rate":"minRate","max-rate":"maxRate",sort:"sortBy",limit:"limit",offset:"offset"}).forEach(([s,n])=>{let r=this.getAttr(t,s);r!=null&&(n==="available"?e[n]=r==="true":n==="languages"?e[n]=r.split(",").map(a=>a.trim()):["minRate","maxRate","limit","offset"].includes(n)?e[n]=parseInt(r):e[n]=r);}),e.offset===void 0&&(e.offset=0),e}getControlValue(t){if(t instanceof HTMLInputElement)switch(t.type){case "checkbox":return t.checked;case "number":case "range":return t.valueAsNumber;default:return t.value}else if(t instanceof HTMLSelectElement)return t.multiple?Array.from(t.selectedOptions).map(e=>e.value):t.value;return null}showLoading(t,e){let i=this.querySelector(t,`[${d}${c.loading}]`);if(i){let s=e?"block":"none";i.style.setProperty("display",s,"important");}}showError(t,e){let i=this.querySelector(t,`[${d}${c.error}]`);i&&(i.textContent=e.message,i.style.setProperty("display","block","important")),t.classList.add(this.config.errorClass),this.log("Error displayed",e);}dispatchEvent(t,e,i){let s=new CustomEvent(`contra:${e}`,{detail:i});t.dispatchEvent(s);}log(t,...e){this.config.debug&&console.log(`[ContraWebflow] ${t}`,...e);}async getAvailableFilters(t){let e=`https://contra.com/public-api/programs/${t}/filters`;this.log(`Fetching available filters for program: ${t}`);try{let i=await fetch(e,{headers:{"X-API-Key":this.config.apiKey,Accept:"application/json"}});if(!i.ok)throw new Error(`Failed to fetch filters: ${i.statusText}`);let s=await i.json();return this.log("Successfully fetched filters",s.data),s.data||[]}catch(i){return this.log("Error fetching available filters",i),[]}}getFilterOptionLabel(t,e){let i=this.filterOptionLabels[t];return i&&i[e]?i[e]:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}populateAllFilterControls(t){this.log("Populating all filter controls on the page..."),this.querySelectorAll(document.body,"[data-contra-filter]").forEach(i=>{let s=i.getAttribute("data-contra-list-target");if(!s)return;let n=this.querySelector(document.body,`[data-contra-list-id="${s}"]`);if(!n)return;let r=this.getAttr(n,c.program);if(!r)return;let a=t.get(r);if(!a)return;let o=i.getAttribute("data-contra-filter"),l=a.find(p=>p.name===o);l&&(l.type==="number"&&i instanceof HTMLInputElement&&(l.minimum!==void 0&&(i.min=String(l.minimum)),l.maximum!==void 0&&(i.max=String(l.maximum))),l.options&&(i instanceof HTMLSelectElement?this.populateSelectControl(i,o,l.options):i instanceof HTMLInputElement&&i.getAttribute("list")&&this.populateDatalistControl(i,o,l.options)));});}populateSelectControl(t,e,i){this.log(`Populating options for filter '${e}' on control`,t);let s=t.firstElementChild?.cloneNode(true);t.innerHTML="",s&&s.getAttribute("value")===""&&t.appendChild(s),i.forEach(n=>{let r=document.createElement("option"),a=typeof n=="object"&&n.value!==void 0?n.value:String(n);r.value=a;let o;if(e==="locations"){let l=a.match(/^(.*?)\s*\(/);o=l?l[1].trim():a;}else o=this.getFilterOptionLabel(e,a);r.textContent=o,e==="sortBy"&&a==="relevance"&&(r.selected=true),t.appendChild(r);});}populateDatalistControl(t,e,i){let s=t.getAttribute("list");if(!s)return;let n=document.getElementById(s);if(!n){this.log(`Datalist with id '${s}' not found for input control.`,t);return}this.log(`Populating datalist '#${s}' for filter '${e}'`),n.innerHTML="",i.forEach(r=>{let a=document.createElement("option"),o=typeof r=="object"&&r.value!==void 0?r.value:String(r),l=o;if(e==="locations"){let p=o.match(/^(.*?)\s*\(/);l=p?p[1].trim():o;}a.value=l,n.appendChild(a);});}transformMediaUrl(t,e){if(!t||!t.includes("cloudinary.com/")&&!t.includes("media.contra.com/"))return t;let i=e==="image"?this.config.imageTransformations:this.config.videoTransformations;if(!i)return t;let s=t;e==="video"&&t.toLowerCase().endsWith(".gif")&&(s=t.replace(/\.gif$/i,".mp4"),this.log(`Converting GIF to MP4: ${s}`));let n="/upload/",r=s.split(n);if(r.length!==2)return this.log(`Could not apply transformations, URL format unexpected: ${s}`),s;let[a,o]=r,l=o.split("/"),p=l[0];C.some(v=>p.includes(v))&&(this.log(`Removing existing transformations from URL: ${s}`),l.shift());let E=l.join("/"),y=`${a}${n}${i}/${E}`;return this.log(`Transformed ${e} URL from "${t}" to "${y}"`),y}};function g(){let f=document.getElementById("contra-config");if(!f){console.warn("[ContraWebflow] No config element found. Runtime not initialized.");return}try{let t=JSON.parse(f.textContent||"{}");if(!t.apiKey){console.error("[ContraWebflow] API key is required in config.");return}setTimeout(()=>{let i=new m(t);window.contraRuntime=i,i.init().catch(s=>{console.error("[ContraWebflow] Runtime initialization failed:",s);});},100);}catch(t){console.error("[ContraWebflow] Failed to parse config:",t);}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",g):document.readyState==="interactive"?setTimeout(g,50):g();
exports.ContraWebflowRuntime=m;//# sourceMappingURL=index.js.map
//# sourceMappingURL=index.js.map