{"version":3,"sources":["../src/runtime.ts"],"names":["ATTR_PREFIX","ATTRS","RuntimeState","programId","updates","state","pageNumber","experts","oldestPage","loading","ContraWebflowRuntime","config","ContraClient","container","error","element","initialFilters","paginationMode","debouncedReload","utils","mode","isScrolling","handleScroll","scrollPosition","documentHeight","threshold","button","filterControls","control","filterKey","filterType","eventType","action","target","e","isPageNavigation","currentPage","cachedExperts","response","limit","offset","page","totalPages","hasNextPage","hasPreviousPage","template","card","expert","expertCard","fieldName","format","value","displayValue","rating","fullStars","hasHalfStar","emptyStars","starsHtml","i","textElement","url","mediaType","parent","mediaElement","urlLower","isVideo","ext","isCloudinaryVideo","originalElement","video","posterUrl","fallbackImg","img","placeholder","videoUrl","from","to","attr","existingStyle","repeatType","maxItems","tag","items","item","itemElement","showWhen","hideWhen","shouldShow","condition","parts","field","restOfCondition","expertValue","result","numValue","expertStr","valueStr","emptyElement","totalCount","pageSize","activeFilters","_key","key","_target","nextOffset","prevOffset","lastPageOffset","currentOffset","allExperts","errorText","loadMoreButtons","btnElement","prevButtons","nextButtons","loadedCount","indicator","newExperts","fragment","name","selector","selectors","foundElements","elements","allContraElements","containerCandidates","div","hasLimit","hasTemplate","hasContraClass","containers","uniqueContainers","filters","v","option","type","newFilters","processedValue","currentArray","event","show","loadingElement","errorElement","eventName","detail","message","args","autoInit","configElement","multiConfig","baseConfig","instanceElement","instanceId","instanceConfig"],"mappings":"oDA4CMA,CAAc,CAAA,cAAA,CACdC,CAAQ,CAAA,CAGZ,SAAU,UACV,CAAA,OAAA,CAAS,SACT,CAAA,KAAA,CAAO,OACP,CAAA,KAAA,CAAO,OAGP,CAAA,KAAA,CAAO,OACP,CAAA,MAAA,CAAQ,QAGR,CAAA,MAAA,CAAQ,QACR,CAAA,GAAA,CAAK,MAGL,MAAQ,CAAA,QAAA,CACR,UAAY,CAAA,aAAA,CAgBZ,QAAU,CAAA,WAAA,CACV,QAAU,CAAA,WAAA,CAGV,MAAQ,CAAA,QAAA,CACR,MAAQ,CAAA,QACV,CAGMC,CAAAA,CAAAA,CAAN,KAAmB,CAAnB,WAAA,EAAA,CACE,IAAQ,CAAA,MAAA,CAAS,IAAI,IAAA,CAiBrB,SAASC,CAAmB,CAAA,CAC1B,OAAK,IAAA,CAAK,MAAO,CAAA,GAAA,CAAIA,CAAS,CAC5B,EAAA,IAAA,CAAK,MAAO,CAAA,GAAA,CAAIA,CAAW,CAAA,CACzB,OAAS,CAAA,EACT,CAAA,OAAA,CAAS,EAAC,CACV,OAAS,CAAA,KAAA,CACT,MAAO,IACP,CAAA,WAAA,CAAa,CACb,CAAA,UAAA,CAAY,CAEZ,CAAA,WAAA,CAAa,IAAI,GAAA,CACjB,YAAc,CAAA,IAAI,GAClB,CAAA,WAAA,CAAa,KACb,CAAA,eAAA,CAAiB,MACjB,iBAAmB,CAAA,KAAA,CACnB,kBAAoB,CAAA,CAAA,CACpB,cAAgB,CAAA,aAClB,CAAC,CAAA,CAEI,IAAK,CAAA,MAAA,CAAO,GAAIA,CAAAA,CAAS,CAClC,CAEA,YAAYA,CAAmBC,CAAAA,CAAAA,CAAwD,CACrF,IAAMC,CAAQ,CAAA,IAAA,CAAK,SAASF,CAAS,CAAA,CACrC,MAAO,CAAA,MAAA,CAAOE,CAAOD,CAAAA,CAAO,EAC5B,IAAK,CAAA,MAAA,CAAO,GAAID,CAAAA,CAAAA,CAAWE,CAAK,EAClC,CAGA,SAAA,CAAUF,CAAmBG,CAAAA,CAAAA,CAAoBC,CAA0B,CAAA,CACzE,IAAMF,CAAAA,CAAQ,KAAK,QAASF,CAAAA,CAAS,CAIrC,CAAA,GAHAE,CAAM,CAAA,WAAA,CAAY,GAAIC,CAAAA,CAAAA,CAAYC,CAAO,CAAA,CAGrCF,CAAM,CAAA,WAAA,CAAY,IAAO,CAAA,CAAA,CAAG,CAC9B,IAAMG,CAAAA,CAAa,IAAK,CAAA,GAAA,CAAI,GAAGH,CAAAA,CAAM,WAAY,CAAA,IAAA,EAAM,CAAA,CACvDA,CAAM,CAAA,WAAA,CAAY,MAAOG,CAAAA,CAAU,EACrC,CACF,CAEA,aAAcL,CAAAA,CAAAA,CAAmBG,CAA4C,CAAA,CAE3E,OADc,IAAK,CAAA,QAAA,CAASH,CAAS,CAAA,CACxB,WAAY,CAAA,GAAA,CAAIG,CAAU,CAAK,EAAA,IAC9C,CAEA,cAAA,CAAeH,CAAmBG,CAAAA,CAAAA,CAAoBG,CAAkB,CAAA,CACtE,IAAMJ,CAAAA,CAAQ,IAAK,CAAA,QAAA,CAASF,CAAS,CAAA,CACjCM,EACFJ,CAAM,CAAA,YAAA,CAAa,GAAIC,CAAAA,CAAU,CAEjCD,CAAAA,CAAAA,CAAM,YAAa,CAAA,MAAA,CAAOC,CAAU,EAExC,CAEA,aAAA,CAAcH,CAAmBG,CAAAA,CAAAA,CAA6B,CAE5D,OADc,IAAA,CAAK,QAASH,CAAAA,CAAS,CACxB,CAAA,YAAA,CAAa,GAAIG,CAAAA,CAAU,CAC1C,CACF,CAKaI,CAAAA,CAAAA,CAAN,KAA2B,CAMhC,YAAYC,CAAuB,CAAA,CAHnC,IAAQ,CAAA,KAAA,CAAQ,IAAIT,CAAAA,CACpB,KAAQ,eAA2C,CAAA,IAAI,GAGrD,CAAA,IAAA,CAAK,MAAS,CAAA,CACZ,MAAO,KACP,CAAA,OAAA,CAAS,EACT,CAAA,YAAA,CAAc,SACd,CAAA,UAAA,CAAY,OACZ,CAAA,UAAA,CAAY,OACZ,CAAA,UAAA,CAAY,IACZ,CAAA,aAAA,CAAe,GACf,CAAA,UAAA,CAAY,EAEZ,cAAgB,CAAA,aAAA,CAChB,uBAAyB,CAAA,GAAA,CACzB,eAAiB,CAAA,IAAA,CACjB,cAAgB,CAAA,CAAA,CAChB,oBAAsB,CAAA,MAAA,CACtB,YAAc,CAAA,WAAA,CAEd,aAAe,CAAA,KAAA,CACf,eAAgB,IAChB,CAAA,UAAA,CAAY,IACZ,CAAA,SAAA,CAAW,IACX,CAAA,aAAA,CAAe,KACf,CAAA,GAAGS,CACL,CAAA,CAEA,IAAK,CAAA,MAAA,CAAS,IAAIC,YAAAA,CAAa,CAC7B,MAAQ,CAAA,IAAA,CAAK,MAAO,CAAA,MAAA,CACpB,KAAO,CAAA,IAAA,CAAK,OAAO,KACrB,CAAC,CAED,CAAA,IAAA,CAAK,GAAI,CAAA,qBAAA,CAAuB,KAAK,MAAM,EAC7C,CAKA,MAAM,IAAKC,CAAAA,CAAAA,CAAmC,CAC5C,IAAA,CAAK,GAAI,CAAA,yBAAyB,CAElC,CAAA,GAAI,CAEF,IAAA,CAAK,eAAeA,CAAWA,CAAAA,CAAAA,CAAU,YAAa,CAAA,iBAAiB,CAAK,EAAA,EAAE,CAG9E,CAAA,IAAA,CAAK,kBAAmBA,CAAAA,CAAAA,CAAWA,CAAU,CAAA,YAAA,CAAa,iBAAiB,CAAA,EAAK,EAAE,CAGlF,CAAA,IAAA,CAAK,iBAAkBA,CAAAA,CAAAA,CAAWA,CAAU,CAAA,YAAA,CAAa,iBAAiB,CAAA,EAAK,EAAE,CAAA,CAGjF,MAAM,IAAA,CAAK,WAAYA,CAAAA,CAAAA,CAAWA,EAAU,YAAa,CAAA,iBAAiB,CAAK,EAAA,EAAE,EAEnF,CAAA,MAASC,EAAO,CACd,IAAA,CAAK,GAAI,CAAA,CAAA,2CAAA,EAA8CD,CAAU,CAAA,YAAA,CAAa,iBAAiB,CAAK,EAAA,EAAE,CAAIC,CAAAA,CAAAA,CAAK,CAC/G,CAAA,IAAA,CAAK,SAAUD,CAAAA,CAAAA,CAAWC,CAAc,EAC1C,CACF,CAKQ,cAAeD,CAAAA,CAAAA,CAAoBV,EAAyB,CAClE,IAAMY,CAAUF,CAAAA,CAAAA,CAGhBE,CAAQ,CAAA,SAAA,CAAU,GAAI,CAAA,gBAAgB,CACtCA,CAAAA,CAAAA,CAAQ,YAAa,CAAA,yBAAA,CAA2B,MAAM,CAAA,CACtDA,EAAQ,YAAa,CAAA,iBAAA,CAAmBZ,CAAS,CAAA,CAGjD,IAAMa,CAAAA,CAAiB,IAAK,CAAA,uBAAA,CAAwBH,CAAS,CAAA,CAGvDI,CAAiB,CAAA,IAAA,CAAK,uBAAwBJ,CAAAA,CAAS,EAE7D,IAAK,CAAA,KAAA,CAAM,WAAYV,CAAAA,CAAAA,CAAW,CAChC,OAAA,CAASa,EACT,cAAgBC,CAAAA,CAClB,CAAC,CAAA,CAGD,IAAK,CAAA,eAAA,CAAgBJ,EAAWV,CAAWc,CAAAA,CAAc,CAGzD,CAAA,IAAMC,CAAkBC,CAAAA,KAAAA,CAAM,QAAS,CAAA,IAAM,CAC3C,IAAA,CAAK,WAAYN,CAAAA,CAAAA,CAAWV,CAAS,EACvC,EAAG,IAAK,CAAA,MAAA,CAAO,aAAa,CAAA,CAE5B,IAAK,CAAA,eAAA,CAAgB,GAAIA,CAAAA,CAAAA,CAAWe,CAAe,CAAA,CAEnD,IAAK,CAAA,GAAA,CAAI,CAAyCf,sCAAAA,EAAAA,CAAS,GAAI,CAAE,cAAA,CAAAa,CAAgB,CAAA,cAAA,CAAAC,CAAe,CAAC,EACnG,CAKQ,uBAAwBJ,CAAAA,CAAAA,CAA2D,CAEzF,OADqB,IAAK,CAAA,OAAA,CAAQA,EAAW,iBAAiB,CAAA,EACvC,IAAK,CAAA,MAAA,CAAO,cACrC,CAKQ,gBAAgBA,CAAoBV,CAAAA,CAAAA,CAAmBiB,CAAmD,CAAA,CAChH,IAAK,CAAA,GAAA,CAAI,cAAcA,CAAI,CAAA,yBAAA,EAA4BjB,CAAS,CAAA,CAAE,CAE9DiB,CAAAA,CAAAA,CAAAA,GAAS,UAAcA,EAAAA,CAAAA,GAAS,QAClC,GAAA,IAAA,CAAK,mBAAoBP,CAAAA,CAAAA,CAAWV,CAAS,CAAA,CAAA,CAG3CiB,IAAS,aAAiBA,EAAAA,CAAAA,GAAS,QACrC,GAAA,IAAA,CAAK,0BAA2BP,CAAAA,CAAAA,CAAWV,CAAS,CAIlDiB,CAAAA,CAAAA,CAAAA,GAAS,UAAcA,EAAAA,CAAAA,GAAS,QAClC,GAAA,IAAA,CAAK,oBAAoBP,CAAWV,CAAAA,CAAS,EAEjD,CAKQ,mBAAoBU,CAAAA,CAAAA,CAAoBV,CAAyB,CAAA,CACvE,IAAIkB,CAAAA,CAAc,KAEZC,CAAAA,CAAAA,CAAeH,KAAM,CAAA,QAAA,CAAS,IAAM,CACxC,GAAIE,CAAa,CAAA,OAEjB,IAAMhB,CAAAA,CAAQ,KAAK,KAAM,CAAA,QAAA,CAASF,CAAS,CAAA,CAC3C,GAAIE,CAAAA,CAAM,mBAAqB,CAACA,CAAAA,CAAM,WAAa,CAAA,OAEnD,IAAMkB,CAAAA,CAAiB,MAAO,CAAA,OAAA,CAAU,MAAO,CAAA,WAAA,CACzCC,CAAiB,CAAA,QAAA,CAAS,eAAgB,CAAA,YAAA,CAC1CC,EAAY,IAAK,CAAA,MAAA,CAAO,uBAE1BF,CAAAA,CAAAA,EAAkBC,CAAiBC,CAAAA,CAAAA,GACrCJ,CAAc,CAAA,IAAA,CACd,IAAK,CAAA,oBAAA,CAAqBR,CAAWV,CAAAA,CAAS,CAAE,CAAA,OAAA,CAAQ,IAAM,CAC5DkB,CAAAA,CAAc,MAChB,CAAC,CAEL,EAAA,CAAA,CAAG,GAAG,CAAA,CAEN,MAAO,CAAA,gBAAA,CAAiB,QAAUC,CAAAA,CAAY,CAG7CT,CAAAA,CAAAA,CAAkB,wBAA0B,IAAM,CACjD,MAAO,CAAA,mBAAA,CAAoB,QAAUS,CAAAA,CAAY,EACnD,EACF,CAKQ,0BAA2BT,CAAAA,CAAAA,CAAoBV,CAAyB,CAAA,CAE9E,KAAK,wBAAyBU,CAAAA,CAAAA,CAAWV,CAAS,EACpD,CAKQ,mBAAA,CAAoBU,CAAoBV,CAAAA,CAAAA,CAAyB,CAC/C,IAAA,CAAK,gBAAiBU,CAAAA,CAAAA,CAAW,kCAAkC,CAAA,CAE3E,QAAQa,CAAU,EAAA,CAC3BA,CAAO,CAAA,WAAA,EAAa,IAAK,EAAA,GAC5BA,CAAO,CAAA,WAAA,CAAc,IAAK,CAAA,MAAA,CAAO,YAErC,EAAA,CAAC,EACH,CAKQ,mBAAmBb,CAAoBV,CAAAA,CAAAA,CAAyB,CACtE,IAAMwB,CAAiB,CAAA,IAAA,CAAK,gBAAiBd,CAAAA,CAAAA,CAAW,CAAIb,CAAAA,EAAAA,CAAW,CAAGC,EAAAA,CAAAA,CAAM,MAAM,CAAA,CAAA,CAAG,EAEzF,IAAK,CAAA,GAAA,CAAI,CAAS0B,MAAAA,EAAAA,CAAAA,CAAe,MAAM,CAAA,8BAAA,EAAiCxB,CAAS,CAAE,CAAA,CAAA,CAEnFwB,CAAe,CAAA,OAAA,CAAQC,CAAW,EAAA,CAChC,IAAMC,CAAY,CAAA,IAAA,CAAK,OAAQD,CAAAA,CAAAA,CAAS3B,CAAM,CAAA,MAAM,CAC9C6B,CAAAA,CAAAA,CAAa,IAAK,CAAA,OAAA,CAAQF,CAAS3B,CAAAA,CAAAA,CAAM,UAAU,CAAA,EAAK,UAE9D,GAAK4B,CAAAA,CAGL,CAAID,GAAAA,CAAAA,YAAmB,gBAAkB,CAAA,CACvC,IAAMG,CAAAA,CAAYH,CAAQ,CAAA,IAAA,GAAS,OAAWA,EAAAA,CAAAA,CAAQ,IAAS,GAAA,QAAA,CAAW,QAAU,QAEpFA,CAAAA,CAAAA,CAAQ,gBAAiBG,CAAAA,CAAAA,CAAW,IAAM,CACxC,IAAK,CAAA,YAAA,CAAa5B,CAAW0B,CAAAA,CAAAA,CAAW,IAAK,CAAA,eAAA,CAAgBD,CAAO,CAAA,CAAGE,CAAU,CAC7E,CAAA,IAAA,CAAK,MAAO,CAAA,UAAA,EACd,IAAK,CAAA,eAAA,CAAgB,IAAI3B,CAAS,CAAA,KAEtC,CAAC,EAEH,CAAA,KAAWyB,aAAmB,iBAC5BA,EAAAA,CAAAA,CAAQ,gBAAiB,CAAA,QAAA,CAAU,IAAM,CACvC,IAAK,CAAA,YAAA,CAAazB,CAAW0B,CAAAA,CAAAA,CAAW,IAAK,CAAA,eAAA,CAAgBD,CAAO,CAAA,CAAGE,CAAU,CAC7E,CAAA,IAAA,CAAK,MAAO,CAAA,UAAA,EACd,IAAK,CAAA,eAAA,CAAgB,GAAI3B,CAAAA,CAAS,CAAI,KAE1C,CAAC,CAAA,CAGH,IAAK,CAAA,GAAA,CAAI,yBAAyB0B,CAAS,CAAA,EAAA,EAAKC,CAAU,CAAA,CAAA,CAAA,CAAKF,CAAO,EAAA,CACxE,CAAC,EACH,CAKQ,iBAAA,CAAkBf,CAAoBV,CAAAA,CAAAA,CAAyB,CAC/C,IAAA,CAAK,iBAAiBU,CAAW,CAAA,CAAA,CAAA,EAAIb,CAAW,CAAA,EAAGC,CAAM,CAAA,MAAM,GAAG,CAE1E,CAAA,OAAA,CAAQyB,CAAU,EAAA,CAC9B,IAAMM,CAAAA,CAAS,KAAK,OAAQN,CAAAA,CAAAA,CAAQzB,CAAM,CAAA,MAAM,CAC1CgC,CAAAA,CAAAA,CAAS,IAAK,CAAA,OAAA,CAAQP,CAAQzB,CAAAA,CAAAA,CAAM,MAAM,CAAA,CAE3C+B,CAELN,EAAAA,CAAAA,CAAO,iBAAiB,OAAUQ,CAAAA,CAAAA,EAAM,CACtCA,CAAAA,CAAE,cAAe,EAAA,CACjB,IAAK,CAAA,YAAA,CAAa/B,CAAW6B,CAAAA,CAAAA,CAAQC,CAAQP,CAAAA,CAAM,EACrD,CAAC,EACH,CAAC,EACH,CAKA,MAAc,WAAYb,CAAAA,CAAAA,CAAoBV,CAAmBgC,CAAAA,CAAAA,CAAmB,KAAsB,CAAA,CACxG,IAAM9B,CAAAA,CAAQ,IAAK,CAAA,KAAA,CAAM,SAASF,CAAS,CAAA,CAE3C,IAAK,CAAA,GAAA,CAAI,CAAgCA,6BAAAA,EAAAA,CAAS,GAAIE,CAAM,CAAA,OAAO,CAEnE,CAAA,GAAI,CAEF,IAAA,CAAK,YAAYQ,CAAW,CAAA,CAAA,CAAI,CAChC,CAAA,IAAA,CAAK,KAAM,CAAA,WAAA,CAAYV,CAAW,CAAA,CAAE,OAAS,CAAA,CAAA,CAAA,CAAM,KAAO,CAAA,IAAK,CAAC,CAAA,CAGhE,IAAMiC,CAAc,CAAA,IAAA,CAAK,KAAO/B,CAAAA,CAAAA,CAAAA,CAAM,OAAQ,CAAA,MAAA,EAAU,CAAMA,GAAAA,CAAAA,CAAM,OAAQ,CAAA,KAAA,EAAS,EAAG,CAAA,CAAA,CAAI,CAC5F,CAAA,GAAI8B,GAAoB9B,CAAM,CAAA,cAAA,GAAmB,aAAe,CAAA,CAC9D,IAAMgC,CAAAA,CAAgB,IAAK,CAAA,KAAA,CAAM,aAAclC,CAAAA,CAAAA,CAAWiC,CAAW,CAAA,CACrE,GAAIC,CAAAA,CAAe,CACjB,IAAK,CAAA,GAAA,CAAI,CAAqBD,kBAAAA,EAAAA,CAAW,CAAE,CAAA,CAAA,CAC3C,KAAK,aAAcvB,CAAAA,CAAAA,CAAWwB,CAAa,CAAA,CAC3C,IAAK,CAAA,KAAA,CAAM,YAAYlC,CAAW,CAAA,CAChC,OAASkC,CAAAA,CAAAA,CACT,WAAaD,CAAAA,CAAAA,CACb,OAAS,CAAA,CAAA,CACX,CAAC,CAAA,CACD,IAAK,CAAA,wBAAA,CAAyBvB,CAAWV,CAAAA,CAAS,EAClD,IAAK,CAAA,WAAA,CAAYU,CAAW,CAAA,CAAA,CAAK,CACjC,CAAA,MACF,CACF,CAGA,IAAMyB,CAAAA,CAAW,MAAM,IAAA,CAAK,MAAO,CAAA,WAAA,CAAYnC,EAAWE,CAAM,CAAA,OAAO,CAEvE,CAAA,IAAA,CAAK,GAAI,CAAA,CAAA,OAAA,EAAUiC,CAAS,CAAA,IAAA,CAAK,MAAM,CAAA,QAAA,CAAA,CAAYA,CAAQ,CAAA,CAG3D,IAAMC,CAAAA,CAAQlC,EAAM,OAAQ,CAAA,KAAA,EAAS,EAC/BmC,CAAAA,CAAAA,CAASnC,CAAM,CAAA,OAAA,CAAQ,QAAU,CACjCoC,CAAAA,CAAAA,CAAO,IAAK,CAAA,KAAA,CAAMD,CAASD,CAAAA,CAAK,EAAI,CACpCG,CAAAA,CAAAA,CAAa,IAAK,CAAA,IAAA,CAAKJ,CAAS,CAAA,UAAA,CAAaC,CAAK,CAAA,CAGlDI,CAAcL,CAAAA,CAAAA,CAAS,IAAK,CAAA,MAAA,GAAWC,CACvCK,CAAAA,CAAAA,CAAkBH,EAAO,CAG/B,CAAA,IAAA,CAAK,KAAM,CAAA,WAAA,CAAYtC,CAAW,CAAA,CAChC,QAASmC,CAAS,CAAA,IAAA,CAClB,UAAYA,CAAAA,CAAAA,CAAS,UACrB,CAAA,WAAA,CAAaG,EACb,WAAaE,CAAAA,CAAAA,CACb,eAAiBC,CAAAA,CAAAA,CACjB,OAAS,CAAA,CAAA,CACX,CAAC,CAAA,CAGD,IAAK,CAAA,KAAA,CAAM,SAAUzC,CAAAA,CAAAA,CAAWsC,CAAMH,CAAAA,CAAAA,CAAS,IAAI,CAGnD,CAAA,IAAA,CAAK,aAAczB,CAAAA,CAAAA,CAAWyB,CAAS,CAAA,IAAI,EAG3C,IAAK,CAAA,cAAA,CAAezB,CAAWV,CAAAA,CAAS,CACxC,CAAA,IAAA,CAAK,yBAAyBU,CAAWV,CAAAA,CAAS,CAGlD,CAAA,IAAA,CAAK,aAAcU,CAAAA,CAAAA,CAAW,eAAiB,CAAA,CAC7C,OAASyB,CAAAA,CAAAA,CAAS,IAClB,CAAA,UAAA,CAAYA,CAAS,CAAA,UAAA,CACrB,QAASjC,CAAM,CAAA,OAAA,CACf,IAAMoC,CAAAA,CAAAA,CACN,UAAYC,CAAAA,CAAAA,CACZ,WAAaC,CAAAA,CAAAA,CACb,eAAiBC,CAAAA,CACnB,CAAoB,EAEtB,CAAS9B,MAAAA,CAAAA,CAAO,CACd,IAAK,CAAA,GAAA,CAAI,CAAuCX,oCAAAA,EAAAA,CAAS,CAAIW,CAAAA,CAAAA,CAAK,CAElE,CAAA,IAAA,CAAK,KAAM,CAAA,WAAA,CAAYX,CAAW,CAAA,CAChC,OAAS,CAAA,KAAA,CACT,MAAOW,CACT,CAAC,CAED,CAAA,IAAA,CAAK,SAAUD,CAAAA,CAAAA,CAAWC,CAAc,CAGxC,CAAA,IAAA,CAAK,aAAcD,CAAAA,CAAAA,CAAW,cAAgB,CAAA,CAC5C,MAAOC,CACP,CAAA,OAAA,CAAS,CAA+BX,4BAAAA,EAAAA,CAAS,CACnD,CAAA,CAAe,EACjB,CAAA,OAAE,CACA,IAAA,CAAK,WAAYU,CAAAA,CAAAA,CAAW,KAAK,EACnC,CACF,CAKQ,aAAA,CAAcA,CAAoBN,CAAAA,CAAAA,CAAgC,CACxE,IAAMsC,CAAW,CAAA,IAAA,CAAK,aAAchC,CAAAA,CAAAA,CAAW,CAAIb,CAAAA,EAAAA,CAAW,CAAGC,EAAAA,CAAAA,CAAM,QAAQ,CAAG,CAAA,CAAA,CAAA,CAClF,GAAI,CAAC4C,CAAU,CAAA,CACb,IAAK,CAAA,GAAA,CAAI,gCAAkChC,CAAAA,CAAS,CACpD,CAAA,MACF,CAGsB,IAAA,CAAK,iBAAiBA,CAAW,CAAA,uBAAuB,CAChE,CAAA,OAAA,CAAQiC,CAAQA,EAAAA,CAAAA,CAAK,QAAQ,CAAA,CAG3CvC,CAAQ,CAAA,OAAA,CAAQwC,CAAU,EAAA,CACxB,IAAMC,CAAa,CAAA,IAAA,CAAK,kBAAmBH,CAAAA,CAAAA,CAAUE,CAAM,CAAA,CAC3DlC,CAAU,CAAA,WAAA,CAAYmC,CAAU,EAClC,CAAC,CAAA,CAED,IAAK,CAAA,GAAA,CAAI,YAAYzC,CAAQ,CAAA,MAAM,CAAe,aAAA,CAAA,EACpD,CAKQ,kBAAA,CAAmBsC,CAAmBE,CAAAA,CAAAA,CAAgC,CAC5E,IAAMD,CAAOD,CAAAA,CAAAA,CAAS,SAAU,CAAA,IAAI,EAGpC,OAAAC,CAAAA,CAAK,SAAU,CAAA,GAAA,CAAI,sBAAsB,CAAA,CAGzCA,CAAK,CAAA,eAAA,CAAgB,CAAG9C,EAAAA,CAAW,CAAGC,EAAAA,CAAAA,CAAM,QAAQ,CAAA,CAAE,EACrD6C,CAAqB,CAAA,KAAA,CAAM,OAAU,CAAA,EAAA,CAGtC,IAAK,CAAA,cAAA,CAAeA,EAAMC,CAAM,CAAA,CAGhC,IAAK,CAAA,yBAAA,CAA0BD,CAAMC,CAAAA,CAAM,EAG3C,IAAK,CAAA,wBAAA,CAAyBD,CAAMC,CAAAA,CAAM,CAEnCD,CAAAA,CACT,CAKQ,cAAA,CAAeA,CAAeC,CAAAA,CAAAA,CAA6B,CAC3C,IAAA,CAAK,gBAAiBD,CAAAA,CAAAA,CAAM,IAAI9C,CAAW,CAAA,EAAGC,CAAM,CAAA,KAAK,CAAG,CAAA,CAAA,CAAA,CAEpE,OAAQc,CAAAA,CAAAA,EAAW,CAC/B,IAAMkC,CAAY,CAAA,IAAA,CAAK,OAAQlC,CAAAA,CAAAA,CAASd,EAAM,KAAK,CAAA,CAC7CiD,CAAS,CAAA,IAAA,CAAK,OAAQnC,CAAAA,CAAAA,CAASd,CAAM,CAAA,MAAM,CAEjD,CAAA,GAAI,CAACgD,CAAAA,EAAa,EAAEA,CAAAA,IAAaF,GAAS,OAE1C,IAAMI,CAAQJ,CAAAA,CAAAA,CAAOE,CAAS,CAAA,CAC9B,KAAK,eAAgBlC,CAAAA,CAAAA,CAASoC,CAAOD,CAAAA,CAAM,EAC7C,CAAC,EAGqB,IAAK,CAAA,gBAAA,CAAiBJ,CAAM,CAAA,qBAAqB,CACzD,CAAA,OAAA,CAAQ/B,CAAW,EAAA,CAC3BgC,CAAO,CAAA,kBAAA,EACT,IAAK,CAAA,gBAAA,CAAiBhC,CAASgC,CAAAA,CAAAA,CAAO,kBAAkB,EAE5D,CAAC,EACH,CAKQ,eAAgBhC,CAAAA,CAAAA,CAAkBoC,CAAYD,CAAAA,CAAAA,CAA8B,CAClF,GAAI,EAAAC,CAAAA,EAAS,IAAQA,EAAAA,CAAAA,GAAU,IAG/B,CAAI,GAAA,IAAA,CAAK,YAAapC,CAAAA,CAAO,CAAK,EAAA,OAAOoC,CAAU,EAAA,QAAA,EAAYA,CAAM,CAAA,IAAA,EAAQ,CAAA,CAC3E,IAAK,CAAA,aAAA,CAAcpC,EAASoC,CAAK,CAAA,CACjC,MACF,CAEA,GAAIpC,CAAAA,YAAmB,kBACrBA,CAAQ,CAAA,IAAA,CAAO,MAAOoC,CAAAA,CAAK,CACtBpC,CAAAA,CAAAA,CAAQ,aAAa,IAAK,EAAA,GAC7BA,CAAQ,CAAA,WAAA,CAAc,MAAOoC,CAAAA,CAAK,CAE3BpC,CAAAA,CAAAA,KAAAA,GAAAA,CAAAA,YAAmB,gBAC5BA,CAAAA,CAAAA,CAAQ,KAAQ,CAAA,MAAA,CAAOoC,CAAK,CAAA,CAAA,KAAA,GACnBpC,aAAmB,gBAE5BA,CAAAA,CAAAA,CAAQ,GAAM,CAAA,MAAA,CAAOoC,CAAK,CAAA,CAC1BpC,CAAQ,CAAA,GAAA,CAAMA,CAAQ,CAAA,GAAA,EAAO,OACxB,CAAA,KAAA,CAEL,IAAIqC,CAAAA,CAAe,OAAOD,CAAK,CAAA,CAE/B,GAAID,CAAAA,CACF,OAAQA,CAAAA,EACN,KAAK,UACHE,CAAAA,CAAAA,CAAe,OAAOD,CAAAA,EAAU,QAAW,CAAA,CAAA,CAAA,EAAIA,CAAK,CAAKC,CAAAA,CAAAA,CAAAA,CACzD,MACF,KAAK,MACHA,CAAAA,CAAAA,CAAejC,MAAM,UAAW,CAAA,OAAOgC,CAAU,EAAA,QAAA,CAAWA,CAAQ,CAAA,IAAI,EACxE,MACF,KAAK,QAEHC,CAAAA,CAAAA,CAAe,OAAOD,CAAAA,EAAU,QAAWA,CAAAA,CAAAA,CAAM,OAAQ,CAAA,CAAC,CAAIC,CAAAA,CAAAA,CAC9D,MACF,KAAK,WAEC,OAAOD,CAAAA,EAAU,QACfA,GAAAA,CAAAA,EAAS,GACXC,CAAAA,CAAAA,CAAe,CAAI,CAAA,EAAA,IAAA,CAAK,KAAMD,CAAAA,CAAAA,CAAQ,GAAO,CAAC,CACrCA,EAAAA,CAAAA,CAAAA,CAAAA,EAAS,IAClBC,CAAe,CAAA,CAAA,CAAA,EAAI,IAAK,CAAA,KAAA,CAAMD,CAAQ,CAAA,GAAI,CAAC,CAAA,EAAA,CAAA,CAE3CC,CAAe,CAAA,CAAA,CAAA,EAAID,CAAK,CAAA,CAAA,CAAA,CAG5B,MACF,KAAK,SACHC,CAAe,CAAA,OAAOD,CAAU,EAAA,QAAA,CAAWA,CAAM,CAAA,cAAA,GAAmBC,CACpE,CAAA,MACF,KAAK,UAAA,CACHA,CAAeA,CAAAA,CAAAA,CAAa,OAAS,GAAMA,CAAAA,CAAAA,CAAa,SAAU,CAAA,CAAA,CAAG,EAAE,CAAA,CAAI,KAAQA,CAAAA,CAAAA,CACnF,MACF,KAAK,SACHA,CAAAA,CAAAA,CAAeD,CAAQ,CAAA,KAAA,CAAQ,KAC/B,MACF,KAAK,cACHC,CAAAA,CAAAA,CAAeD,CAAQ,CAAA,WAAA,CAAc,gBACrC,KACJ,CAGFpC,CAAQ,CAAA,WAAA,CAAcqC,EACxB,CAAA,CACF,CAKQ,gBAAiBrC,CAAAA,CAAAA,CAAkBsC,CAAsB,CAAA,CAC/D,IAAMC,CAAAA,CAAY,IAAK,CAAA,KAAA,CAAMD,CAAM,CAAA,CAC7BE,CAAcF,CAAAA,CAAAA,CAAS,CAAK,EAAA,EAAA,CAC5BG,EAAa,CAAIF,CAAAA,CAAAA,EAAaC,CAAc,CAAA,CAAA,CAAI,CAElDE,CAAAA,CAAAA,CAAAA,CAAY,GAGhB,IAASC,IAAAA,CAAAA,CAAI,CAAGA,CAAAA,CAAAA,CAAIJ,CAAWI,CAAAA,CAAAA,EAAAA,CAC7BD,GAAa,0DAIXF,CAAAA,CAAAA,GACFE,CAAa,EAAA,0DAAA,CAAA,CAIf,IAASC,IAAAA,CAAAA,CAAI,CAAGA,CAAAA,CAAAA,CAAIF,CAAYE,CAAAA,CAAAA,EAAAA,CAC9BD,CAAa,EAAA,2DAAA,CAGf1C,CAAQ,CAAA,SAAA,CAAY0C,EAGpB,IAAMX,CAAAA,CAAO/B,CAAQ,CAAA,OAAA,CAAQ,wBAAwB,CAAA,EAAKA,CAAQ,CAAA,OAAA,CAAQ,cAAc,CAAA,CACpF+B,CACyB,EAAA,IAAA,CAAK,gBAAiBA,CAAAA,CAAAA,CAAM,2BAA2B,CAC/D,CAAA,OAAA,CAAQa,CAAe,EAAA,CACxCA,CAAY,CAAA,WAAA,CAAcN,CAAO,CAAA,OAAA,CAAQ,CAAC,EAC5C,CAAC,EAEL,CAKQ,YAAA,CAAatC,EAA2B,CAG9C,OAFc,IAAK,CAAA,OAAA,CAAQA,CAASd,CAAAA,CAAAA,CAAM,KAAK,CAE9B,GAAA,UACnB,CAKQ,aAAA,CAAcc,CAAkB6C,CAAAA,CAAAA,CAAmB,CACzD,IAAMC,CAAAA,CAAY,IAAK,CAAA,eAAA,CAAgBD,CAAG,CAAA,CACpCE,CAAS/C,CAAAA,CAAAA,CAAQ,aAEvB,CAAA,GAAI,CAAC+C,CAAAA,CAAQ,CACX,IAAA,CAAK,IAAI,6CAA+C/C,CAAAA,CAAO,CAC/D,CAAA,MACF,CAGAA,CAAAA,CAAQ,MAAO,EAAA,CAGf,IAAIgD,CAAAA,CAEJ,OAAQF,CAAAA,EACN,KAAK,QACHE,CAAe,CAAA,IAAA,CAAK,kBAAmBH,CAAAA,CAAAA,CAAK7C,CAAO,CAAA,CACnD,MACF,KAAK,OACL,CAAA,QACEgD,CAAe,CAAA,IAAA,CAAK,kBAAmBH,CAAAA,CAAAA,CAAK7C,CAAO,CACnD,CAAA,KACJ,CAGA,IAAA,CAAK,kBAAmBA,CAAAA,CAAAA,CAASgD,CAAY,CAG7CD,CAAAA,CAAAA,CAAO,WAAYC,CAAAA,CAAY,CAE/B,CAAA,IAAA,CAAK,IAAI,CAAWF,QAAAA,EAAAA,CAAS,CAAqBD,kBAAAA,EAAAA,CAAG,CAAE,CAAA,EACzD,CAKQ,eAAA,CAAgBA,CAAgC,CAAA,CACtD,GAAI,CAACA,CAAO,EAAA,OAAOA,GAAQ,QACzB,CAAA,OAAA,IAAA,CAAK,GAAI,CAAA,0CAAA,CAA4CA,CAAG,CAAA,CACjD,OAGT,CAAA,IAAMI,CAAWJ,CAAAA,CAAAA,CAAI,WAAY,EAAA,CAI3BK,CADkB,CAAA,CAAC,OAAQ,OAAS,CAAA,MAAA,CAAQ,MAAQ,CAAA,MAAA,CAAQ,MAAM,CAAA,CACxC,IAAKC,CAAAA,CAAAA,EAAOF,CAAS,CAAA,QAAA,CAASE,CAAG,CAAC,CAG5DC,CAAAA,CAAAA,CAAoBH,EAAS,QAAS,CAAA,iBAAiB,CAAKA,EAAAA,CAAAA,CAAS,QAAS,CAAA,SAAS,EAE7F,OAAQC,CAAAA,EAAWE,CAAqB,CAAA,OAAA,CAAU,OACpD,CAKQ,mBAAmBP,CAAaQ,CAAAA,CAAAA,CAA4C,CAClF,IAAMC,CAAQ,CAAA,QAAA,CAAS,aAAc,CAAA,OAAO,CAG5C,CAAA,OAAAA,CAAM,CAAA,GAAA,CAAMT,CACZS,CAAAA,CAAAA,CAAM,MAAQ,IAAK,CAAA,MAAA,CAAO,UAC1BA,CAAAA,CAAAA,CAAM,IAAO,CAAA,IAAA,CAAK,MAAO,CAAA,SAAA,CACzBA,CAAM,CAAA,WAAA,CAAc,IACpBA,CAAAA,CAAAA,CAAM,OAAU,CAAA,UAAA,CAChBA,EAAM,QAAW,CAAA,IAAA,CAAK,MAAO,CAAA,aAAA,CAG7BA,CAAM,CAAA,KAAA,CAAM,KAAQ,CAAA,MAAA,CACpBA,CAAM,CAAA,KAAA,CAAM,MAAS,CAAA,MAAA,CACrBA,CAAM,CAAA,KAAA,CAAM,UAAY,OACxBA,CAAAA,CAAAA,CAAM,KAAM,CAAA,YAAA,CAAe,SAGvB,CAAA,IAAA,CAAK,OAAO,aACdA,GAAAA,CAAAA,CAAM,QAAW,CAAA,IAAA,CACjBA,CAAM,CAAA,YAAA,CAAa,WAAY,EAAE,CAAA,CAAA,CAInCA,CAAM,CAAA,OAAA,CAAU,IAAM,CACpB,IAAK,CAAA,GAAA,CAAI,CAAyBT,sBAAAA,EAAAA,CAAG,CAAE,CAAA,CAAA,CAEvC,IAAMU,CAAAA,CAAY,KAAK,qBAAsBV,CAAAA,CAAG,CAChD,CAAA,GAAIU,CAAW,CAAA,CACb,IAAMC,CAAAA,CAAc,IAAK,CAAA,kBAAA,CAAmBD,CAAWF,CAAAA,CAAe,CACtEC,CAAAA,CAAAA,CAAM,eAAe,YAAaE,CAAAA,CAAAA,CAAaF,CAAK,EACtD,CAEEA,KAAAA,CAAAA,CAAM,KAAM,CAAA,UAAA,CAAa,SACzBA,CAAAA,CAAAA,CAAM,KAAM,CAAA,QAAA,CAAW,UACvBA,CAAAA,CAAAA,CAAM,UAAY,uIAEtB,CAAA,CAGI,IAAK,CAAA,MAAA,CAAO,cAAkB,EAAA,CAAC,KAAK,MAAO,CAAA,aAAA,GAC7CA,CAAM,CAAA,gBAAA,CAAiB,YAAc,CAAA,IAAM,CACzCA,CAAM,CAAA,WAAA,CAAc,CACpBA,CAAAA,CAAAA,CAAM,IAAK,EAAA,CAAE,KAAM,CAAA,IAAM,EAExB,EACH,CAAC,CAEDA,CAAAA,CAAAA,CAAM,iBAAiB,YAAc,CAAA,IAAM,CACzCA,CAAAA,CAAM,KAAM,EAAA,CACZA,CAAM,CAAA,WAAA,CAAc,EACtB,CAAC,CAGIA,CAAAA,CAAAA,CACT,CAKQ,kBAAA,CAAmBT,EAAaQ,CAA4C,CAAA,CAClF,IAAMI,CAAAA,CAAM,QAAS,CAAA,aAAA,CAAc,KAAK,CAAA,CAExC,OAAAA,CAAAA,CAAI,GAAMZ,CAAAA,CAAAA,CACVY,CAAI,CAAA,GAAA,CAAMJ,EAAgB,YAAa,CAAA,KAAK,CAAK,EAAA,eAAA,CACjDI,CAAI,CAAA,OAAA,CAAU,OAGdA,CAAI,CAAA,KAAA,CAAM,KAAQ,CAAA,MAAA,CAClBA,CAAI,CAAA,KAAA,CAAM,OAAS,MACnBA,CAAAA,CAAAA,CAAI,KAAM,CAAA,SAAA,CAAY,OACtBA,CAAAA,CAAAA,CAAI,KAAM,CAAA,YAAA,CAAe,SAGzBA,CAAAA,CAAAA,CAAI,OAAU,CAAA,IAAM,CAClB,IAAA,CAAK,IAAI,CAAyBZ,sBAAAA,EAAAA,CAAG,CAAE,CAAA,CAAA,CACvCY,CAAI,CAAA,KAAA,CAAM,UAAa,CAAA,SAAA,CACvBA,CAAI,CAAA,KAAA,CAAM,OAAU,CAAA,KAAA,CACpBA,CAAI,CAAA,GAAA,CAAM,oBAGVA,CAAI,CAAA,KAAA,CAAM,QAAW,CAAA,UAAA,CACrB,IAAMC,CAAAA,CAAc,QAAS,CAAA,aAAA,CAAc,KAAK,CAAA,CAChDA,CAAY,CAAA,KAAA,CAAM,OAAU,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAA,CAAA,CAS5BA,CAAY,CAAA,WAAA,CAAc,mCAC1BD,CAAAA,CAAAA,CAAI,aAAe,EAAA,WAAA,CAAYC,CAAW,EAC5C,CAEOD,CAAAA,CACT,CAKQ,qBAAA,CAAsBE,EAAiC,CAC7D,OAAIA,CAAS,CAAA,QAAA,CAAS,iBAAiB,CAAA,EAAKA,CAAS,CAAA,QAAA,CAAS,SAAS,CAE9DA,CAAAA,CAAAA,CACJ,OAAQ,CAAA,SAAA,CAAW,SAAS,CAAA,CAC5B,OAAQ,CAAA,4BAAA,CAA8B,MAAM,CAC5C,CAAA,OAAA,CAAQ,gBAAkB,CAAA,sBAAsB,CAE9C,CAAA,IACT,CAKQ,kBAAA,CAAmBC,EAAeC,CAAuB,CAAA,CAc/D,GAZID,CAAAA,CAAK,SACPC,GAAAA,CAAAA,CAAG,SAAYD,CAAAA,CAAAA,CAAK,WAItB,KAAM,CAAA,IAAA,CAAKA,CAAK,CAAA,UAAU,CAAE,CAAA,OAAA,CAAQE,CAAQ,EAAA,CACtCA,EAAK,IAAK,CAAA,UAAA,CAAW,OAAO,CAAA,EAAKA,CAAK,CAAA,IAAA,GAAS,CAAG7E,EAAAA,CAAW,GAAGC,CAAM,CAAA,KAAK,CAC7E2E,CAAAA,EAAAA,CAAAA,CAAG,YAAaC,CAAAA,CAAAA,CAAK,IAAMA,CAAAA,CAAAA,CAAK,KAAK,EAEzC,CAAC,CAGGF,CAAAA,CAAAA,CAAK,YAAa,CAAA,OAAO,CAAG,CAAA,CAC9B,IAAMG,CAAgBF,CAAAA,CAAAA,CAAG,YAAa,CAAA,OAAO,CAAK,EAAA,EAAA,CAClDA,CAAG,CAAA,YAAA,CAAa,QAASE,CAAgB,CAAA,IAAA,CAAOH,CAAK,CAAA,YAAA,CAAa,OAAO,CAAC,EAC5E,CACF,CAKQ,yBAA0B7B,CAAAA,CAAAA,CAAeC,CAA6B,CAAA,CACrD,IAAK,CAAA,gBAAA,CAAiBD,CAAM,CAAA,CAAA,CAAA,EAAI9C,CAAW,CAAGC,EAAAA,CAAAA,CAAM,MAAM,CAAA,CAAA,CAAG,CAErE,CAAA,OAAA,CAAQY,CAAa,EAAA,CAClC,IAAMkE,CAAa,CAAA,IAAA,CAAK,OAAQlE,CAAAA,CAAAA,CAAWZ,CAAM,CAAA,MAAM,CACjD+E,CAAAA,CAAAA,CAAW,SAAS,IAAK,CAAA,OAAA,CAAQnE,CAAWZ,CAAAA,CAAAA,CAAM,GAAG,CAAA,EAAK,IAAI,CAAA,CAEhE8E,IAAe,UAAchC,EAAAA,CAAAA,CAAO,QACtC,CAAA,IAAA,CAAK,0BAA2BlC,CAAAA,CAAAA,CAAWkC,CAAO,CAAA,QAAA,CAAS,KAAM,CAAA,CAAA,CAAGiC,CAAQ,CAAC,CACpED,CAAAA,CAAAA,GAAe,aAAiBhC,EAAAA,CAAAA,CAAO,YAChD,IAAK,CAAA,0BAAA,CAA2BlC,CAAWkC,CAAAA,CAAAA,CAAO,WAAY,CAAA,KAAA,CAAM,CAAGiC,CAAAA,CAAQ,CAAC,CACvED,CAAAA,CAAAA,GAAe,WAAehC,EAAAA,CAAAA,CAAO,SAC9C,EAAA,IAAA,CAAK,0BAA2BlC,CAAAA,CAAAA,CAAWkC,EAAO,SAAU,CAAA,KAAA,CAAM,CAAGiC,CAAAA,CAAQ,CAAE,CAAA,GAAA,CAAKC,CAAiB,GAAA,CAAE,KAAMA,CAAI,CAAA,CAAE,CAAC,EAExH,CAAC,EACH,CAKQ,0BAAA,CAA2BpE,EAAoBqE,CAAoB,CAAA,CACzE,IAAMrC,CAAAA,CAAWhC,CAAU,CAAA,iBAAA,CACtBgC,CAGLhC,GAAAA,CAAAA,CAAU,UAAY,EAGtBqE,CAAAA,CAAAA,CAAM,OAAQC,CAAAA,CAAAA,EAAQ,CACpB,IAAMC,CAAcvC,CAAAA,CAAAA,CAAS,UAAU,IAAI,CAAA,CAC3C,IAAK,CAAA,cAAA,CAAeuC,CAAaD,CAAAA,CAAI,CACrCtE,CAAAA,CAAAA,CAAU,YAAYuE,CAAW,EACnC,CAAC,CAAA,CAGGF,CAAM,CAAA,MAAA,GAAW,CAClBrE,GAAAA,CAAAA,CAA0B,MAAM,OAAU,CAAA,MAAA,CAAA,EAE/C,CAKQ,wBAAA,CAAyBiC,CAAeC,CAAAA,CAAAA,CAA6B,CAC/C,IAAA,CAAK,iBAAiBD,CAAM,CAAA,CAAA,CAAA,EAAI9C,CAAW,CAAA,EAAGC,CAAM,CAAA,QAAQ,CAAOD,IAAAA,EAAAA,CAAW,GAAGC,CAAM,CAAA,QAAQ,CAAG,CAAA,CAAA,CAAA,CAE1G,OAAQc,CAAAA,CAAAA,EAAW,CACrC,IAAMsE,EAAW,IAAK,CAAA,OAAA,CAAQtE,CAASd,CAAAA,CAAAA,CAAM,QAAQ,CAAA,CAC/CqF,CAAW,CAAA,IAAA,CAAK,QAAQvE,CAASd,CAAAA,CAAAA,CAAM,QAAQ,CAAA,CAEjDsF,CAAa,CAAA,IAAA,CAEbF,CACFE,GAAAA,CAAAA,CAAa,KAAK,iBAAkBxC,CAAAA,CAAAA,CAAQsC,CAAQ,CAAA,CAAA,CAGlDC,CACFC,GAAAA,CAAAA,CAAaA,CAAc,EAAA,CAAC,KAAK,iBAAkBxC,CAAAA,CAAAA,CAAQuC,CAAQ,CAAA,CAAA,CAGpEvE,CAAwB,CAAA,KAAA,CAAM,OAAUwE,CAAAA,CAAAA,CAAa,EAAK,CAAA,OAC7D,CAAC,EACH,CAKQ,iBAAA,CAAkBxC,CAAuByC,CAAAA,CAAAA,CAA4B,CAC3E,GAAI,CAACA,CAAa,EAAA,OAAOA,CAAc,EAAA,QAAA,CACrC,OAAK,IAAA,CAAA,GAAA,CAAI,8BAA+BA,CAAS,CAAA,CAC1C,KAIT,CAAA,IAAMC,CAAQD,CAAAA,CAAAA,CAAU,KAAM,CAAA,GAAG,EACjC,GAAIC,CAAAA,CAAM,MAAS,CAAA,CAAA,CACjB,OAAK,IAAA,CAAA,GAAA,CAAI,2BAA6BD,CAAAA,CAAS,EACxC,KAGT,CAAA,IAAME,CAAQD,CAAAA,CAAAA,CAAM,CAAC,CAAA,CACfE,CAAkBF,CAAAA,CAAAA,CAAM,MAAM,CAAC,CAAA,CAAE,IAAK,CAAA,GAAG,CACzCG,CAAAA,CAAAA,CAAe7C,CAAe2C,CAAAA,CAAK,EAIzC,GAFA,IAAA,CAAK,GAAI,CAAA,CAAA,sBAAA,EAAyBA,CAAK,CAAA,EAAA,EAAKE,CAAW,CAAA,QAAA,EAAW,OAAOA,CAAW,CAAA,UAAA,EAAaD,CAAe,CAAA,CAAE,CAE9GC,CAAAA,CAAAA,EAAe,IACjB,CAAA,OAAA,IAAA,CAAK,IAAI,CAAUF,OAAAA,EAAAA,CAAK,CAAsC,oCAAA,CAAA,CAAA,CACvD,KAIT,CAAA,GAAIC,CAAgB,CAAA,UAAA,CAAW,IAAI,CAAG,CAAA,CACpC,IAAMxC,CAAAA,CAAQwC,CAAgB,CAAA,SAAA,CAAU,CAAC,CAAA,CACnCE,EAAS,MAAOD,CAAAA,CAAW,CAAK,EAAA,MAAA,CAAOzC,CAAK,CAAA,CAClD,OAAK,IAAA,CAAA,GAAA,CAAI,eAAeyC,CAAW,CAAA,IAAA,EAAOzC,CAAK,CAAA,GAAA,EAAM0C,CAAM,CAAA,CAAE,CACtDA,CAAAA,CACT,SAAWF,CAAgB,CAAA,UAAA,CAAW,IAAI,CAAA,CAAG,CAC3C,IAAMxC,CAAQwC,CAAAA,CAAAA,CAAgB,UAAU,CAAC,CAAA,CACnCE,CAAS,CAAA,MAAA,CAAOD,CAAW,CAAA,EAAK,MAAOzC,CAAAA,CAAK,EAClD,OAAK,IAAA,CAAA,GAAA,CAAI,CAAeyC,YAAAA,EAAAA,CAAW,CAAOzC,IAAAA,EAAAA,CAAK,CAAM0C,GAAAA,EAAAA,CAAM,EAAE,CACtDA,CAAAA,CACT,CAAWF,KAAAA,GAAAA,CAAAA,CAAgB,UAAW,CAAA,GAAG,CAAG,CAAA,CAC1C,IAAMxC,CAAAA,CAAQwC,CAAgB,CAAA,SAAA,CAAU,CAAC,CAAA,CACnCE,CAAS,CAAA,MAAA,CAAOD,CAAW,CAAI,CAAA,MAAA,CAAOzC,CAAK,CAAA,CACjD,OAAK,IAAA,CAAA,GAAA,CAAI,CAAeyC,YAAAA,EAAAA,CAAW,MAAMzC,CAAK,CAAA,GAAA,EAAM0C,CAAM,CAAA,CAAE,CACrDA,CAAAA,CACT,CAAWF,KAAAA,GAAAA,CAAAA,CAAgB,WAAW,GAAG,CAAA,CAAG,CAC1C,IAAMxC,CAAQwC,CAAAA,CAAAA,CAAgB,SAAU,CAAA,CAAC,EACnCE,CAAS,CAAA,MAAA,CAAOD,CAAW,CAAA,CAAI,MAAOzC,CAAAA,CAAK,CACjD,CAAA,OAAA,IAAA,CAAK,IAAI,CAAeyC,YAAAA,EAAAA,CAAW,CAAMzC,GAAAA,EAAAA,CAAK,CAAM0C,GAAAA,EAAAA,CAAM,CAAE,CAAA,CAAA,CACrDA,CACT,CAAO,KAAA,CAEL,IAAIA,CAAAA,CAAS,KAGb,CAAA,GAAI,OAAOD,CAAAA,EAAgB,UAErBD,CAAgB,CAAA,WAAA,EAAkB,GAAA,MAAA,CACpCE,CAASD,CAAAA,CAAAA,GAAgB,IAChBD,CAAAA,CAAAA,CAAgB,aAAkB,GAAA,OAAA,CAC3CE,CAASD,CAAAA,CAAAA,GAAgB,KAEzBC,CAAAA,CAAAA,CAAS,KAEX,CAAA,IAAA,CAAK,IAAI,CAAuBD,oBAAAA,EAAAA,CAAW,CAAQD,KAAAA,EAAAA,CAAAA,CAAgB,WAAY,EAAA,GAAM,MAAM,CAAA,GAAA,EAAME,CAAM,CAAE,CAAA,CAAA,CAAA,KAAA,GAChG,OAAOD,CAAAA,EAAgB,QAAU,CAAA,CAE1C,IAAME,CAAAA,CAAW,OAAOH,CAAe,CAAA,CACvCE,CAAS,CAAA,CAAC,KAAMC,CAAAA,CAAQ,CAAKF,EAAAA,CAAAA,GAAgBE,EAC7C,IAAK,CAAA,GAAA,CAAI,CAAsBF,mBAAAA,EAAAA,CAAW,CAAQE,KAAAA,EAAAA,CAAQ,CAAMD,GAAAA,EAAAA,CAAM,EAAE,EAC1E,CAAA,KAAO,CAEL,IAAME,CAAY,CAAA,MAAA,CAAOH,CAAW,CAAA,CAC9BI,EAAW,MAAOL,CAAAA,CAAe,CACvCE,CAAAA,CAAAA,CAASE,CAAU,CAAA,WAAA,EAAkBC,GAAAA,CAAAA,CAAS,aAC9C,CAAA,IAAA,CAAK,GAAI,CAAA,CAAA,oBAAA,EAAuBD,CAAS,CAAA,OAAA,EAAUC,CAAQ,CAAA,IAAA,EAAOH,CAAM,CAAA,CAAE,EAC5E,CAEA,OAAOA,CACT,CACF,CAKQ,eAAehF,CAAoBV,CAAAA,CAAAA,CAAyB,CAClE,IAAME,CAAQ,CAAA,IAAA,CAAK,KAAM,CAAA,QAAA,CAASF,CAAS,CAGrC8F,CAAAA,CAAAA,CAAe,IAAK,CAAA,aAAA,CAAcpF,CAAW,CAAA,CAAA,CAAA,EAAIb,CAAW,CAAA,EAAGC,EAAM,KAAK,CAAA,CAAA,CAAG,CAC/EgG,CAAAA,CAAAA,GACDA,CAA6B,CAAA,KAAA,CAAM,OAAU5F,CAAAA,CAAAA,CAAM,QAAQ,MAAW,GAAA,CAAA,CAAI,EAAK,CAAA,MAAA,CAAA,CAIvD,IAAK,CAAA,gBAAA,CAAiBQ,CAAW,CAAA,+BAA+B,EACxE,OAAQE,CAAAA,CAAAA,EAAW,CACpC,GAAM,CAAE,WAAA,CAAAqB,CAAa,CAAA,UAAA,CAAA8D,CAAW,CAAI7F,CAAAA,CAAAA,CAC9B8F,CAAW9F,CAAAA,CAAAA,CAAM,OAAQ,CAAA,KAAA,EAAS,EAClCqC,CAAAA,CAAAA,CAAa,KAAK,IAAKwD,CAAAA,CAAAA,CAAaC,CAAQ,CAAA,CAElDpF,CAAQ,CAAA,WAAA,CAAc,CAAQqB,KAAAA,EAAAA,CAAW,OAAOM,CAAU,CAAA,EAAA,EAAKwD,CAAU,CAAA,OAAA,EAC3E,CAAC,CAAA,CAGuB,IAAK,CAAA,gBAAA,CAAiBrF,EAAW,8BAA8B,CAAA,CACvE,OAAQE,CAAAA,CAAAA,EAAW,CACjC,IAAMqF,CAAgB,CAAA,MAAA,CAAO,QAAQ/F,CAAM,CAAA,OAAO,CAC/C,CAAA,MAAA,CAAO,CAAC,CAACgG,CAAMlD,CAAAA,CAAK,IAAMA,CAAS,EAAA,IAAA,EAAQA,CAAU,GAAA,EAAE,CACvD,CAAA,GAAA,CAAI,CAAC,CAACmD,EAAKnD,CAAK,CAAA,GAAM,CAAGmD,EAAAA,CAAG,CAAKnD,EAAAA,EAAAA,CAAK,CAAE,CAAA,CAAA,CACxC,KAAK,IAAI,CAAA,CAEZpC,CAAQ,CAAA,WAAA,CAAcqF,CAAiB,EAAA,qBACzC,CAAC,EACH,CAKQ,YAAajG,CAAAA,CAAAA,CAAmB6B,CAAgBuE,CAAAA,CAAAA,CAAyB7E,CAAwB,CAAA,CACvG,IAAMrB,CAAAA,CAAQ,KAAK,KAAM,CAAA,QAAA,CAASF,CAAS,CAAA,CACrCU,CAAY,CAAA,QAAA,CAAS,aAAc,CAAA,CAAA,kBAAA,EAAqBV,CAAS,CAAA,EAAA,CAAI,CAE3E,CAAA,GAAI,CAACU,CAAAA,CAAW,CACd,IAAA,CAAK,IAAI,CAAoCV,iCAAAA,EAAAA,CAAS,CAAE,CAAA,CAAA,CACxD,MACF,CAGA,GAAIuB,CAAAA,EAAUA,aAAkB,iBAAmB,CAAA,CAC5BA,CAAO,CAAA,YAC5BA,CAAO,CAAA,QAAA,CAAW,KACpB,CAEA,OAAQM,CAAQ,EACd,KAAK,WAAA,CACH,IAAMO,CAAAA,CAAQlC,EAAM,OAAQ,CAAA,KAAA,EAAS,EAC/BmG,CAAAA,CAAAA,CAAAA,CAAcnG,CAAM,CAAA,OAAA,CAAQ,MAAU,EAAA,CAAA,EAAKkC,EAE7CiE,CAAanG,CAAAA,CAAAA,CAAM,UACrB,GAAA,IAAA,CAAK,YAAaF,CAAAA,CAAAA,CAAW,QAAUqG,CAAAA,CAAU,EAEjD,UAAW,CAAA,IAAM,CACf,IAAA,CAAK,WAAY3F,CAAAA,CAAAA,CAAsBV,CAAW,CAAA,IAAI,EACxD,CAAG,CAAA,CAAC,CAEN,CAAA,CAAA,MAEF,KAAK,WAAA,CACH,IAAMsG,CAAAA,CAAa,KAAK,GAAI,CAAA,CAAA,CAAA,CAAIpG,CAAM,CAAA,OAAA,CAAQ,MAAU,EAAA,CAAA,GAAMA,CAAM,CAAA,OAAA,CAAQ,OAAS,EAAG,CAAA,CAAA,CACxF,IAAK,CAAA,YAAA,CAAaF,CAAW,CAAA,QAAA,CAAUsG,CAAU,CAAA,CAEjD,WAAW,IAAM,CACf,IAAK,CAAA,WAAA,CAAY5F,CAAsBV,CAAAA,CAAAA,CAAW,IAAI,EACxD,EAAG,CAAC,CAAA,CACJ,MAEF,KAAK,WAEH,CAAA,IAAA,CAAK,eAAgBU,CAAAA,CAAAA,CAAsBV,CAAS,CAAE,CAAA,OAAA,CAAQ,IAAM,CAC9DuB,CAAUA,EAAAA,CAAAA,YAAkB,iBAC9BA,GAAAA,CAAAA,CAAO,SAAW,KAEtB,EAAA,CAAC,CACD,CAAA,OAEF,KAAK,YAAA,CACH,IAAK,CAAA,YAAA,CAAavB,EAAW,QAAU,CAAA,CAAC,CACxC,CAAA,UAAA,CAAW,IAAM,CACf,IAAK,CAAA,WAAA,CAAYU,EAAsBV,CAAW,CAAA,IAAI,EACxD,CAAA,CAAG,CAAC,CAAA,CACJ,MAEF,KAAK,WACH,CAAA,IAAMuG,CAAiB,CAAA,IAAA,CAAK,GAAI,CAAA,CAAA,CAAG,IAAK,CAAA,KAAA,CAAA,CAAOrG,EAAM,UAAa,CAAA,CAAA,GAAMA,CAAM,CAAA,OAAA,CAAQ,KAAS,EAAA,EAAA,CAAG,CAAKA,EAAAA,CAAAA,CAAM,QAAQ,KAAS,EAAA,EAAA,CAAG,CACjI,CAAA,IAAA,CAAK,YAAaF,CAAAA,CAAAA,CAAW,QAAUuG,CAAAA,CAAc,EACrD,UAAW,CAAA,IAAM,CACf,IAAA,CAAK,WAAY7F,CAAAA,CAAAA,CAAsBV,CAAW,CAAA,IAAI,EACxD,CAAG,CAAA,CAAC,CACJ,CAAA,MAEF,KAAK,eAAA,CAEH,IAAK,CAAA,KAAA,CAAM,YAAYA,CAAW,CAAA,CAChC,OAAS,CAAA,CAAE,KAAOE,CAAAA,CAAAA,CAAM,OAAQ,CAAA,KAAM,EACtC,WAAa,CAAA,CAAA,CACb,WAAa,CAAA,IAAI,GACnB,CAAC,CACG,CAAA,IAAA,CAAK,OAAO,UACd,EAAA,IAAA,CAAK,eAAgB,CAAA,GAAA,CAAIF,CAAS,CAAA,IAEpC,CAAA,MAEF,KAAK,QAEH,CAAA,IAAA,CAAK,KAAM,CAAA,WAAA,CAAYA,CAAW,CAAA,CAAE,WAAa,CAAA,IAAI,GAAM,CAAC,CAAA,CAC5D,IAAK,CAAA,MAAA,CAAO,UAAW,CAAA,CAAA,QAAA,EAAWA,CAAS,CAAA,CAAE,EACzC,IAAK,CAAA,MAAA,CAAO,UACd,EAAA,IAAA,CAAK,eAAgB,CAAA,GAAA,CAAIA,CAAS,CAAA,KAEpC,KACJ,CAGIuB,CAAUA,EAAAA,CAAAA,YAAkB,iBAAqBM,EAAAA,CAAAA,GAAW,WAC9D,EAAA,UAAA,CAAW,IAAM,CACfN,CAAAA,CAAO,QAAW,CAAA,MACpB,CAAG,CAAA,GAAG,EAEV,CAKA,MAAc,eAAgBb,CAAAA,CAAAA,CAAoBV,CAAkC,CAAA,CAClF,IAAME,CAAAA,CAAQ,IAAK,CAAA,KAAA,CAAM,SAASF,CAAS,CAAA,CACrCoC,CAAQlC,CAAAA,CAAAA,CAAM,OAAQ,CAAA,KAAA,EAAS,EAG/BsG,CAAAA,CAAAA,CAAgBtG,EAAM,OAAQ,CAAA,MAAA,CAEpC,IAAK,CAAA,GAAA,CAAI,CAAuCsG,oCAAAA,EAAAA,CAAa,CAAWpE,QAAAA,EAAAA,CAAK,EAAE,CAE/E,CAAA,GAAI,CACF,IAAA,CAAK,KAAM,CAAA,WAAA,CAAYpC,CAAW,CAAA,CAAE,kBAAmB,CAAK,CAAA,CAAC,CAC7D,CAAA,IAAA,CAAK,yBAA0BU,CAAAA,CAAAA,CAAWV,CAAW,CAAA,CAAA,CAAI,EAGzD,IAAMmC,CAAAA,CAAW,MAAM,IAAA,CAAK,MAAO,CAAA,WAAA,CAAYnC,CAAW,CAAA,CACxD,GAAGE,CAAM,CAAA,OAAA,CACT,MAAQsG,CAAAA,CAAAA,CACR,KAAOpE,CAAAA,CACT,CAAC,CAAA,CAED,KAAK,GAAI,CAAA,CAAA,OAAA,EAAUD,CAAS,CAAA,IAAA,CAAK,MAAM,CAAA,0BAAA,EAA6BqE,CAAa,CAAA,CAAE,EAGnF,IAAMC,CAAAA,CAAa,CAAC,GAAGvG,CAAM,CAAA,OAAA,CAAS,GAAGiC,CAAAA,CAAS,IAAI,CAGhDK,CAAAA,CAAAA,CAAcL,CAAS,CAAA,IAAA,CAAK,MAAWC,GAAAA,CAAAA,CAE7C,IAAK,CAAA,KAAA,CAAM,YAAYpC,CAAW,CAAA,CAChC,OAASyG,CAAAA,CAAAA,CACT,UAAYtE,CAAAA,CAAAA,CAAS,UACrB,CAAA,WAAA,CAAaK,EACb,iBAAmB,CAAA,CAAA,CACrB,CAAC,CAAA,CAGD,IAAK,CAAA,gBAAA,CAAiB9B,CAAWyB,CAAAA,CAAAA,CAAS,IAAI,CAG9C,CAAA,IAAA,CAAK,wBAAyBzB,CAAAA,CAAAA,CAAWV,CAAS,CAAA,CAGlD,IAAK,CAAA,aAAA,CAAcU,EAAW,eAAiB,CAAA,CAC7C,OAASyB,CAAAA,CAAAA,CAAS,IAClB,CAAA,YAAA,CAAcsE,CACd,CAAA,UAAA,CAAYtE,EAAS,UACrB,CAAA,UAAA,CAAY,CACd,CAAA,CAAC,EAEH,CAAA,MAASxB,CAAO,CAAA,CACd,KAAK,GAAI,CAAA,6BAAA,CAA+BA,CAAK,CAAA,CAC7C,IAAK,CAAA,KAAA,CAAM,WAAYX,CAAAA,CAAAA,CAAW,CAAE,iBAAmB,CAAA,KAAM,CAAC,CAAA,CAG9D,IAAK,CAAA,yBAAA,CAA0BU,CAAWV,CAAAA,CAAAA,CAAW,MAAO,oBAAoB,CAAA,CAEhF,UAAW,CAAA,IAAM,CACf,IAAA,CAAK,yBAA0BU,CAAAA,CAAAA,CAAWV,EAAW,KAAK,EAC5D,CAAG,CAAA,GAAI,EACT,CAAA,OAAE,CACA,IAAA,CAAK,yBAA0BU,CAAAA,CAAAA,CAAWV,CAAW,CAAA,KAAK,EAC5D,CACF,CAKQ,yBAAA,CAA0BU,EAAoBV,CAAmBM,CAAAA,CAAAA,CAAkBoG,CAA0B,CAAA,CACnH,IAAMC,CAAAA,CAAkB,IAAK,CAAA,gBAAA,CAAiBjG,EAAW,kCAAkC,CAAA,CACrFR,CAAQ,CAAA,IAAA,CAAK,KAAM,CAAA,QAAA,CAASF,CAAS,CAAA,CAE3C2G,EAAgB,OAAQpF,CAAAA,CAAAA,EAAU,CAChC,IAAMqF,CAAarF,CAAAA,CAAAA,CAEnB,GAAImF,CAAAA,CAAW,CACbE,CAAW,CAAA,WAAA,CAAcF,CACzBE,CAAAA,CAAAA,CAAW,QAAW,CAAA,IAAA,CACtBA,CAAW,CAAA,SAAA,CAAU,IAAI,OAAO,CAAA,CAChC,MACF,CAEAA,CAAW,CAAA,SAAA,CAAU,MAAO,CAAA,OAAO,EAE/BtG,CACFsG,EAAAA,CAAAA,CAAW,WAAc,CAAA,YAAA,CACzBA,CAAW,CAAA,QAAA,CAAW,IACtBA,CAAAA,CAAAA,CAAW,UAAU,GAAI,CAAA,SAAS,CAElCA,GAAAA,CAAAA,CAAW,SAAU,CAAA,MAAA,CAAO,SAAS,CAAA,CACrB1G,EAAM,WAGpB0G,EAAAA,CAAAA,CAAW,WAAc,CAAA,IAAA,CAAK,MAAO,CAAA,YAAA,CACrCA,CAAW,CAAA,QAAA,CAAW,QAEtBA,CAAW,CAAA,WAAA,CAAc,oBACzBA,CAAAA,CAAAA,CAAW,QAAW,CAAA,IAAA,CACtBA,CAAW,CAAA,SAAA,CAAU,IAAI,UAAU,CAAA,CAAA,EAGzC,CAAC,EACH,CAKA,MAAc,oBAAqBlG,CAAAA,CAAAA,CAAoBV,EAAkC,CAEvF,OAAO,IAAK,CAAA,eAAA,CAAgBU,CAAWV,CAAAA,CAAS,CAClD,CAKQ,yBAAyBU,CAAoBV,CAAAA,CAAAA,CAAyB,CAC5E,IAAME,CAAQ,CAAA,IAAA,CAAK,KAAM,CAAA,QAAA,CAASF,CAAS,CACrCoC,CAAAA,CAAAA,CAAQlC,CAAM,CAAA,OAAA,CAAQ,KAAS,EAAA,EAAA,CAC/BqC,CAAa,CAAA,IAAA,CAAK,KAAKrC,CAAM,CAAA,UAAA,CAAakC,CAAK,CAAA,CAG/CyE,CAAc,CAAA,IAAA,CAAK,gBAAiBnG,CAAAA,CAAAA,CAAW,kCAAkC,CACjFoG,CAAAA,CAAAA,CAAc,IAAK,CAAA,gBAAA,CAAiBpG,CAAW,CAAA,kCAAkC,CAGvFmG,CAAAA,CAAAA,CAAY,OAAQtF,CAAAA,CAAAA,EAAU,CAC5B,IAAMqF,CAAarF,CAAAA,CAAAA,CACnBqF,CAAW,CAAA,QAAA,CAAW1G,EAAM,WAAe,EAAA,CAAA,CAC3C0G,CAAW,CAAA,SAAA,CAAU,MAAO,CAAA,UAAA,CAAY1G,CAAM,CAAA,WAAA,EAAe,CAAC,EAChE,CAAC,CAGD4G,CAAAA,CAAAA,CAAY,OAAQvF,CAAAA,CAAAA,EAAU,CAC5B,IAAMqF,EAAarF,CACnBqF,CAAAA,CAAAA,CAAW,QAAW1G,CAAAA,CAAAA,CAAM,WAAeqC,EAAAA,CAAAA,CAC3CqE,CAAW,CAAA,SAAA,CAAU,OAAO,UAAY1G,CAAAA,CAAAA,CAAM,WAAeqC,EAAAA,CAAU,EACzE,CAAC,CAGD,CAAA,IAAA,CAAK,0BAA0B7B,CAAWV,CAAAA,CAAAA,CAAWE,CAAM,CAAA,iBAAiB,CAG7C,CAAA,IAAA,CAAK,gBAAiBQ,CAAAA,CAAAA,CAAW,+BAA+B,CACxE,CAAA,OAAA,CAAQE,CAAW,EAAA,CACxC,IAAMmG,CAAAA,CAAc7G,CAAM,CAAA,OAAA,CAAQ,OAC5B6F,CAAa7F,CAAAA,CAAAA,CAAM,UAGrBA,CAAAA,CAAAA,CAAM,cAAmB,GAAA,UAAA,EAAcA,CAAM,CAAA,cAAA,GAAmB,SAClEU,CAAQ,CAAA,WAAA,CAAc,CAAWmG,QAAAA,EAAAA,CAAW,CAAOhB,IAAAA,EAAAA,CAAU,CAE7DnF,QAAAA,CAAAA,CAAAA,CAAAA,CAAQ,YAAc,CAAQV,KAAAA,EAAAA,CAAAA,CAAM,WAAW,CAAA,IAAA,EAAOqC,CAAU,CAAA,EAAA,EAAKwD,CAAU,CAAA,OAAA,EAEnF,CAAC,CAED,CAAA,IAAA,CAAK,GAAI,CAAA,CAAA,oCAAA,EAAuC7F,CAAM,CAAA,OAAA,CAAQ,MAAM,CAAA,CAAA,EAAIA,EAAM,UAAU,CAAA,WAAA,EAAcA,CAAM,CAAA,WAAW,CAAE,CAAA,EAC3H,CAKQ,0BAAA,CAA2BQ,EAAoBJ,CAAwB,CAAA,CACnD,IAAK,CAAA,gBAAA,CAAiBI,CAAW,CAAA,gCAAgC,CAEzE,CAAA,OAAA,CAAQsG,GAAa,CACpCA,CAAAA,CAA0B,KAAM,CAAA,OAAA,CAAU1G,CAAU,CAAA,EAAA,CAAK,OAC5D,CAAC,EACH,CAKQ,gBAAA,CAAiBI,CAAoBuG,CAAAA,CAAAA,CAAmC,CAC9E,IAAMvE,CAAW,CAAA,IAAA,CAAK,cAAchC,CAAW,CAAA,CAAA,CAAA,EAAIb,CAAW,CAAA,EAAGC,CAAM,CAAA,QAAQ,CAAG,CAAA,CAAA,CAAA,CAClF,GAAI,CAAC4C,CAAU,CAAA,CACb,IAAK,CAAA,GAAA,CAAI,6CAA+ChC,CAAAA,CAAS,EACjE,MACF,CAGA,IAAMwG,CAAAA,CAAW,QAAS,CAAA,sBAAA,EAE1BD,CAAAA,CAAAA,CAAW,QAAQrE,CAAU,EAAA,CAC3B,IAAMC,CAAAA,CAAa,IAAK,CAAA,kBAAA,CAAmBH,CAAUE,CAAAA,CAAM,EAC3DsE,CAAS,CAAA,WAAA,CAAYrE,CAAU,EACjC,CAAC,CAAA,CAGDnC,CAAU,CAAA,WAAA,CAAYwG,CAAQ,CAE9B,CAAA,IAAA,CAAK,GAAI,CAAA,CAAA,SAAA,EAAYD,CAAW,CAAA,MAAM,CAAiC,+BAAA,CAAA,EACzE,CAOQ,OAAQrG,CAAAA,CAAAA,CAAkBuG,CAA6B,CAAA,CAC7D,OAAOvG,CAAAA,CAAQ,YAAa,CAAA,CAAA,EAAGf,CAAW,CAAGsH,EAAAA,CAAI,CAAE,CAAA,CACrD,CAEQ,aAAA,CAAcvG,CAAkBwG,CAAAA,CAAAA,CAAkC,CACxE,OAAOxG,CAAAA,CAAQ,aAAcwG,CAAAA,CAAQ,CACvC,CAEQ,gBAAiBxG,CAAAA,CAAAA,CAAkBwG,EAA6B,CACtE,OAAO,KAAM,CAAA,IAAA,CAAKxG,CAAQ,CAAA,gBAAA,CAAiBwG,CAAQ,CAAC,CACtD,CAEQ,oBAAA,EAAkC,CACxC,IAAA,CAAK,GAAI,CAAA,kCAAkC,CAC3C,CAAA,IAAA,CAAK,IAAI,uBAAyB,CAAA,QAAA,CAAS,UAAU,CAAA,CACrD,IAAK,CAAA,GAAA,CAAI,6BAA+B,CAAA,QAAA,CAAS,iBAAiB,GAAG,CAAA,CAAE,MAAM,CAAA,CAG7E,IAAMC,CAAAA,CAAY,CAChB,qBAAA,CACA,gCACA,wBACF,CAAA,CAEMC,CAA2B,CAAA,EAEjC,CAAA,IAAA,IAAWF,CAAYC,IAAAA,CAAAA,CAAW,CAChC,IAAME,CAAAA,CAAW,KAAM,CAAA,IAAA,CAAK,QAAS,CAAA,gBAAA,CAAiBH,CAAQ,CAAC,EAC/D,IAAK,CAAA,GAAA,CAAI,CAASG,MAAAA,EAAAA,CAAAA,CAAS,MAAM,CAAA,yBAAA,EAA4BH,CAAQ,CAAA,CAAA,CAAIG,CAAQ,CACjFD,CAAAA,CAAAA,CAAc,IAAK,CAAA,GAAGC,CAAQ,EAChC,CAGA,GAAID,CAAc,CAAA,MAAA,GAAW,CAAG,CAAA,CAC9B,IAAK,CAAA,GAAA,CAAI,qEAAqE,CAAA,CAG9E,IAAME,CAAoB,CAAA,KAAA,CAAM,IAAK,CAAA,QAAA,CAAS,gBAAiB,CAAA,+GAA+G,CAAC,CAAA,CAC/K,KAAK,GAAI,CAAA,CAAA,MAAA,EAASA,CAAkB,CAAA,MAAM,CAAyCA,qCAAAA,CAAAA,CAAAA,CAAiB,CAGpG,CAAA,IAAMC,EAAsB,KAAM,CAAA,IAAA,CAAK,QAAS,CAAA,gBAAA,CAAiB,KAAK,CAAC,CAAE,CAAA,MAAA,CAAOC,GAAO,CACrF,IAAMC,CAAWD,CAAAA,CAAAA,CAAI,YAAa,CAAA,mBAAmB,CAC/CE,CAAAA,CAAAA,CAAcF,EAAI,aAAc,CAAA,wBAAwB,CACxDG,CAAAA,CAAAA,CAAiBH,CAAI,CAAA,SAAA,CAAU,QAAS,CAAA,QAAQ,EACtD,OAAOC,CAAAA,EAAYC,CAAeC,EAAAA,CACpC,CAAC,CAAA,CAED,IAAK,CAAA,GAAA,CAAI,SAASJ,CAAoB,CAAA,MAAM,CAAoCA,gCAAAA,CAAAA,CAAAA,CAAmB,CACnGH,CAAAA,CAAAA,CAAc,IAAK,CAAA,GAAGG,CAAmB,EAC3C,CAGA,IAAMK,CAAAA,CAAa,IAAI,GAAA,CAEvB,IAAWlH,IAAAA,CAAAA,IAAW0G,EAEpB,GAAI1G,CAAAA,CAAQ,YAAa,CAAA,mBAAmB,CAAKA,EAAAA,CAAAA,CAAQ,YAAa,CAAA,6BAA6B,EACjGkH,CAAW,CAAA,GAAA,CAAIlH,CAAO,CAAA,CACtB,IAAK,CAAA,GAAA,CAAI,yCAA2CA,CAAAA,CAAO,UAGpDA,CAAQ,CAAA,YAAA,CAAa,sBAAsB,CAAA,CAAG,CACrD,IAAM+C,CAAS/C,CAAAA,CAAAA,CAAQ,cACnB+C,CACFmE,GAAAA,CAAAA,CAAW,GAAInE,CAAAA,CAAM,CACrB,CAAA,IAAA,CAAK,GAAI,CAAA,oCAAA,CAAsCA,CAAM,CAEzD,EAAA,CAAA,KAES/C,CAAQ,CAAA,SAAA,CAAU,QAAS,CAAA,QAAQ,CAEtBA,EAAAA,CAAAA,CAAQ,cAAc,wBAAwB,CAAA,GAEhEkH,CAAW,CAAA,GAAA,CAAIlH,CAAO,CAAA,CACtB,IAAK,CAAA,GAAA,CAAI,mDAAoDA,CAAO,CAAA,CAAA,CAK1E,IAAMmH,CAAAA,CAAmB,KAAM,CAAA,IAAA,CAAKD,CAAU,CAAA,CAC9C,OAAK,IAAA,CAAA,GAAA,CAAI,CAAkCC,+BAAAA,EAAAA,CAAAA,CAAiB,MAAM,CAAA,CAAA,CAAIA,CAAgB,CAAA,CAGlFA,EAAiB,MAAW,GAAA,CAAA,GAC9B,IAAK,CAAA,GAAA,CAAI,6CAAwC,CAAA,CACjD,IAAK,CAAA,GAAA,CAAI,wBAAyB,QAAS,CAAA,IAAA,EAAM,SAAW,EAAA,SAAA,CAAU,CAAG,CAAA,GAAG,CAAI,CAAA,KAAK,EACrF,IAAK,CAAA,GAAA,CAAI,aAAe,CAAA,KAAA,CAAM,IAAK,CAAA,QAAA,CAAS,gBAAiB,CAAA,KAAK,CAAC,CAAE,CAAA,KAAA,CAAM,CAAG,CAAA,EAAE,CAAC,CAAA,CACjF,IAAK,CAAA,GAAA,CAAI,mCAAoC,KAAM,CAAA,IAAA,CAAK,QAAS,CAAA,gBAAA,CAAiB,4EAA4E,CAAC,CAAC,CAAA,CAAA,CAG3JA,CACT,CAEQ,uBAAA,CAAwBnH,CAAiC,CAAA,CAC/D,IAAMoH,CAAAA,CAAyB,EAAC,CAchC,cAAO,OAXW,CAAA,CAChB,SAAa,CAAA,WAAA,CACb,SAAa,CAAA,WAAA,CACb,QAAY,CAAA,UAAA,CACZ,WAAY,SACZ,CAAA,UAAA,CAAY,SACZ,CAAA,IAAA,CAAQ,QACR,CAAA,KAAA,CAAS,OACT,CAAA,MAAA,CAAU,QACZ,CAEwB,CAAA,CAAE,OAAQ,CAAA,CAAC,CAACtD,CAAAA,CAAMhD,CAAS,CAAA,GAAM,CACvD,IAAMsB,CAAAA,CAAQ,IAAK,CAAA,OAAA,CAAQpC,CAAS8D,CAAAA,CAAI,CACpC1B,CAAAA,CAAAA,EAAS,OACPtB,CAAc,GAAA,WAAA,CACfsG,CAAgBtG,CAAAA,CAAS,CAAIsB,CAAAA,CAAAA,GAAU,MAC/BtB,CAAAA,CAAAA,GAAc,YACtBsG,CAAgBtG,CAAAA,CAAS,CAAIsB,CAAAA,CAAAA,CAAM,KAAM,CAAA,GAAG,CAAE,CAAA,GAAA,CAAIiF,GAAKA,CAAE,CAAA,IAAA,EAAM,CAAA,CACvD,CAAC,SAAA,CAAW,SAAW,CAAA,OAAA,CAAS,QAAQ,CAAE,CAAA,QAAA,CAASvG,CAAS,CAAA,CACpEsG,CAAgBtG,CAAAA,CAAS,CAAI,CAAA,QAAA,CAASsB,CAAK,CAE3CgF,CAAAA,CAAAA,CAAgBtG,CAAS,CAAA,CAAIsB,CAGpC,EAAA,CAAC,CAGGgF,CAAAA,CAAAA,CAAQ,MAAW,GAAA,MAAA,GACrBA,CAAQ,CAAA,MAAA,CAAS,CAGZA,CAAAA,CAAAA,CACT,CAEQ,eAAA,CAAgBvG,EAAoD,CAC1E,GAAIA,CAAmB,YAAA,gBAAA,CACrB,OAAQA,CAAAA,CAAQ,IAAM,EACpB,KAAK,UACH,CAAA,OAAOA,CAAQ,CAAA,OAAA,CACjB,KAAK,QAAA,CACL,KAAK,OAAA,CACH,OAAOA,CAAQ,CAAA,aAAA,CACjB,QACE,OAAOA,CAAQ,CAAA,KACnB,CACSA,KAAAA,GAAAA,CAAAA,YAAmB,kBAC5B,OAAIA,CAAAA,CAAQ,QACH,CAAA,KAAA,CAAM,IAAKA,CAAAA,CAAAA,CAAQ,eAAe,CAAA,CAAE,IAAIyG,CAAUA,EAAAA,CAAAA,CAAO,KAAK,CAAA,CAEhEzG,CAAQ,CAAA,KAAA,CAEjB,OAAO,IACT,CAEQ,YAAazB,CAAAA,CAAAA,CAAmB0B,CAAmBsB,CAAAA,CAAAA,CAAYmF,CAAe,CAAA,SAAA,CAAiB,CAErG,IAAMC,EAAa,CAAE,GADP,IAAK,CAAA,KAAA,CAAM,QAASpI,CAAAA,CAAS,CACb,CAAA,OAAQ,EAGlCqI,CAAiBrF,CAAAA,CAAAA,CAsBrB,GApBItB,CAAAA,GAAc,WAEZ,CAAA,OAAOsB,CAAU,EAAA,QAAA,GACfA,IAAU,MACZqF,CAAAA,CAAAA,CAAiB,IACRrF,CAAAA,CAAAA,GAAU,OACnBqF,CAAAA,CAAAA,CAAiB,KACRrF,CAAAA,CAAAA,CAAAA,GAAU,IAAMA,CAAU,GAAA,IAAA,IACnCqF,CAAiB,CAAA,MAAA,CAAA,CAAA,CAAA,CAGZ3G,CAAc,GAAA,SAAA,EAAaA,CAAc,GAAA,SAAA,IAE9CsB,IAAU,EAAMA,EAAAA,CAAAA,GAAU,IAC5BqF,CAAAA,CAAAA,CAAiB,MAEjBA,CAAAA,CAAAA,CAAiB,MAAOrF,CAAAA,CAAK,GAI7BmF,CAAS,GAAA,QAAA,EAAY,KAAM,CAAA,OAAA,CAAQC,CAAW1G,CAAAA,CAAgC,CAAC,CAAA,CAAG,CACpF,IAAM4G,CAAAA,CAAeF,CAAW1G,CAAAA,CAAgC,CAChE0G,CAAAA,CAAAA,CAAW1G,CAAgC,CAAA,CAAI,CAAC,GAAG4G,CAAAA,CAAcD,CAAc,EACjF,CACGD,KAAAA,CAAAA,CAAmB1G,CAAS,CAAA,CAAI2G,EAK/B3G,CAAc,GAAA,QAAA,GAChB0G,CAAW,CAAA,MAAA,CAAS,CAGtB,CAAA,CAAA,IAAA,CAAK,KAAM,CAAA,WAAA,CAAYpI,CAAW,CAAA,CAAE,OAASoI,CAAAA,CAAW,CAAC,CAAA,CAEzD,IAAK,CAAA,GAAA,CAAI,mBAAmB1G,CAAS,CAAA,GAAA,EAAM2G,CAAc,CAAA,YAAA,EAAerF,CAAK,CAAA,CAAA,CAAG,CAGhF,CAAA,IAAMuF,EAA2B,CAC/B,OAAA,CAASH,CACT,CAAA,OAAA,CAAS,QAAS,CAAA,aAAA,CAAc,CAAqBpI,kBAAAA,EAAAA,CAAS,IAAI,CACpE,CAAA,CAEA,IAAK,CAAA,aAAA,CAAc,QAAiB,CAAA,cAAA,CAAgBuI,CAAK,EAC3D,CAEQ,WAAY7H,CAAAA,CAAAA,CAAoB8H,CAAqB,CAAA,CAC3D,IAAMC,CAAAA,CAAiB,IAAK,CAAA,aAAA,CAAc/H,EAAW,CAAIb,CAAAA,EAAAA,CAAW,CAAGC,EAAAA,CAAAA,CAAM,OAAO,CAAA,CAAA,CAAG,CACnF2I,CAAAA,CAAAA,GACDA,EAA+B,KAAM,CAAA,OAAA,CAAUD,CAAO,CAAA,EAAA,CAAK,MAG7D9H,CAAAA,CAAAA,CAAAA,CAA0B,SAAU,CAAA,MAAA,CAAO,KAAK,MAAO,CAAA,YAAA,CAAc8H,CAAI,EAC5E,CAEQ,SAAA,CAAU9H,CAAoBC,CAAAA,CAAAA,CAAoB,CACxD,IAAM+H,CAAAA,CAAe,IAAK,CAAA,aAAA,CAAchI,CAAW,CAAA,CAAA,CAAA,EAAIb,CAAW,CAAA,EAAGC,EAAM,KAAK,CAAA,CAAA,CAAG,CAC/E4I,CAAAA,CAAAA,GACFA,CAAa,CAAA,WAAA,CAAc/H,CAAM,CAAA,OAAA,CAChC+H,EAA6B,KAAM,CAAA,OAAA,CAAU,EAG/ChI,CAAAA,CAAAA,CAAAA,CAA0B,SAAU,CAAA,GAAA,CAAI,IAAK,CAAA,MAAA,CAAO,UAAU,CAC/D,CAAA,IAAA,CAAK,GAAI,CAAA,iBAAA,CAAmBC,CAAK,EACnC,CAEQ,aAAA,CAAcmB,EAA4B6G,CAAmBC,CAAAA,CAAAA,CAAmB,CACtF,IAAML,CAAQ,CAAA,IAAI,WAAY,CAAA,CAAA,OAAA,EAAUI,CAAS,CAAI,CAAA,CAAA,CAAE,MAAAC,CAAAA,CAAO,CAAC,CAAA,CAC/D9G,CAAO,CAAA,aAAA,CAAcyG,CAAK,EAC5B,CAEQ,GAAIM,CAAAA,CAAAA,CAAAA,GAAoBC,CAAmB,CAAA,CAC7C,IAAK,CAAA,MAAA,CAAO,OACd,OAAQ,CAAA,GAAA,CAAI,CAAmBD,gBAAAA,EAAAA,CAAO,CAAI,CAAA,CAAA,GAAGC,CAAI,EAErD,CACF,EAKA,SAASC,CAAiB,EAAA,CACxB,IAAMC,CAAAA,CAAgB,QAAS,CAAA,cAAA,CAAe,eAAe,CAC7D,CAAA,GAAI,CAACA,CAAAA,CAAe,CAClB,OAAA,CAAQ,IAAK,CAAA,mEAAmE,EAChF,MACF,CAEA,GAAI,CACF,IAAMC,CAAAA,CAAc,IAAK,CAAA,KAAA,CAAMD,EAAc,WAAe,EAAA,IAAI,CAC1DE,CAAAA,CAAAA,CAAcD,CAAY,CAAA,MAAA,EAAU,EAAC,CAE3C,QAAQ,GAAI,CAAA,0DAAA,CAA4DA,CAAW,CAAA,CAGjE,QAAS,CAAA,gBAAA,CAAiB,wBAAwB,CAAA,CAE1D,QAAQE,CAAmB,EAAA,CACnC,IAAMC,CAAAA,CAAaD,CAAgB,CAAA,YAAA,CAAa,sBAAsB,CAAA,CACtE,GAAIC,CAAcH,EAAAA,CAAAA,CAAYG,CAAU,CAAA,CAAG,CAEzC,IAAMC,CAAiB,CAAA,CACrB,GAAGH,CACH,CAAA,GAAGD,CAAYG,CAAAA,CAAU,CACzB,CAAA,MAAA,CAAQF,CAAW,CAAA,MAAA,CACnB,MAAOA,CAAW,CAAA,KACpB,CAEA,CAAA,OAAA,CAAQ,GAAI,CAAA,CAAA,gCAAA,EAAmCE,CAAU,CAAA,kBAAA,CAAA,CAAsBC,CAAc,CAE7E,CAAA,IAAI9I,CAAqB8I,CAAAA,CAAc,CAG/C,CAAA,IAAA,CAAKF,CAAe,CAAA,CAAE,MAAMxI,CAAS,EAAA,CAC3C,OAAQ,CAAA,KAAA,CAAM,CAA+DyI,4DAAAA,EAAAA,CAAU,CAAMzI,EAAAA,CAAAA,CAAAA,CAAK,EACpG,CAAC,EAEH,CACE,KAAA,OAAA,CAAQ,IAAK,CAAA,CAAA,8DAAA,EAAiEyI,CAAU,CAAA,CAAA,CAAG,EAE/F,CAAC,EAEH,CAASzI,MAAAA,CAAAA,CAAO,CACd,OAAA,CAAQ,KAAM,CAAA,yCAAA,CAA2CA,CAAK,EAChE,CACF,CAGI,QAAA,CAAS,UAAe,GAAA,SAAA,CAC1B,QAAS,CAAA,gBAAA,CAAiB,mBAAoBoI,CAAQ,CAAA,CAC7C,QAAS,CAAA,UAAA,GAAe,aAEjC,CAAA,UAAA,CAAWA,CAAU,CAAA,EAAE,EAGvBA,CAAS,EAAA","file":"index.mjs","sourcesContent":["import { ContraClient, utils } from '@contra/client';\nimport type {\n  ExpertProfile,\n  ExpertFilters,\n  FilterChangeEvent,\n  ExpertLoadEvent,\n  ErrorEvent,\n  ExpertField\n} from '@contra/types';\n\n/**\n * Webflow Runtime for Contra Experts\n * Features: Performance optimization, filtering, error handling, loading states\n */\n\n// Configuration interface\ninterface RuntimeConfig {\n  apiKey: string;\n  program?: string;  // Program ID from config\n  debug?: boolean;\n  loadingClass?: string;\n  errorClass?: string;\n  emptyClass?: string;\n  autoReload?: boolean;\n  debounceDelay?: number;\n  maxRetries?: number;\n  \n  // Pagination Configuration\n  paginationMode?: 'traditional' | 'infinite' | 'hybrid';\n  infiniteScrollThreshold?: number;        // Pixels from bottom to trigger load\n  preloadNextPage?: boolean;              // Preload next page for performance\n  maxCachedPages?: number;                // Max pages to keep in memory\n  smoothScrollBehavior?: 'auto' | 'smooth';\n  loadMoreText?: string;                  // Custom \"Load More\" button text\n  \n  // Video configuration\n  videoAutoplay?: boolean;\n  videoHoverPlay?: boolean;\n  videoMuted?: boolean;\n  videoLoop?: boolean;\n  videoControls?: boolean;\n}\n\n// Attribute constants\nconst ATTR_PREFIX = 'data-contra-';\nconst ATTRS = {\n  // Core attributes\n  program: 'program',\n  template: 'template',\n  loading: 'loading',\n  error: 'error',\n  empty: 'empty',\n  \n  // Field binding\n  field: 'field',\n  format: 'format',\n  \n  // Repeating elements\n  repeat: 'repeat',\n  max: 'max',\n  \n  // Filter controls\n  filter: 'filter',\n  filterType: 'filter-type',\n  \n  // Filter attributes\n  available: 'available',\n  \n  // Sorting and pagination\n  sort: 'sort',\n  page: 'page',\n  limit: 'limit',\n  \n  // Pagination mode and controls\n  paginationMode: 'pagination-mode',\n  infiniteLoading: 'infinite-loading',\n  paginationInfo: 'pagination-info',\n  \n  // UI states\n  showWhen: 'show-when',\n  hideWhen: 'hide-when',\n  \n  // Actions\n  action: 'action',\n  target: 'target'\n} as const;\n\n// State management\nclass RuntimeState {\n  private states = new Map<string, {\n    filters: ExpertFilters;\n    experts: ExpertProfile[];\n    loading: boolean;\n    error: Error | null;\n    currentPage: number;\n    totalCount: number;\n    // Advanced pagination state\n    cachedPages: Map<number, ExpertProfile[]>;\n    loadingPages: Set<number>;\n    hasNextPage: boolean;\n    hasPreviousPage: boolean;\n    isInfiniteLoading: boolean;\n    lastScrollPosition: number;\n    paginationMode: 'traditional' | 'infinite' | 'hybrid';\n  }>();\n\n  getState(programId: string) {\n    if (!this.states.has(programId)) {\n      this.states.set(programId, {\n        filters: {},\n        experts: [],\n        loading: false,\n        error: null,\n        currentPage: 1,\n        totalCount: 0,\n        // Advanced pagination defaults\n        cachedPages: new Map(),\n        loadingPages: new Set(),\n        hasNextPage: false,\n        hasPreviousPage: false,\n        isInfiniteLoading: false,\n        lastScrollPosition: 0,\n        paginationMode: 'traditional'\n      });\n    }\n    return this.states.get(programId)!;\n  }\n\n  updateState(programId: string, updates: Partial<ReturnType<RuntimeState['getState']>>) {\n    const state = this.getState(programId);\n    Object.assign(state, updates);\n    this.states.set(programId, state);\n  }\n\n  // Advanced pagination helpers\n  cachePage(programId: string, pageNumber: number, experts: ExpertProfile[]) {\n    const state = this.getState(programId);\n    state.cachedPages.set(pageNumber, experts);\n    \n    // Implement LRU cache cleanup\n    if (state.cachedPages.size > 5) { // maxCachedPages from config\n      const oldestPage = Math.min(...state.cachedPages.keys());\n      state.cachedPages.delete(oldestPage);\n    }\n  }\n\n  getCachedPage(programId: string, pageNumber: number): ExpertProfile[] | null {\n    const state = this.getState(programId);\n    return state.cachedPages.get(pageNumber) || null;\n  }\n\n  setPageLoading(programId: string, pageNumber: number, loading: boolean) {\n    const state = this.getState(programId);\n    if (loading) {\n      state.loadingPages.add(pageNumber);\n    } else {\n      state.loadingPages.delete(pageNumber);\n    }\n  }\n\n  isPageLoading(programId: string, pageNumber: number): boolean {\n    const state = this.getState(programId);\n    return state.loadingPages.has(pageNumber);\n  }\n}\n\n/**\n * Main Runtime Class\n */\nexport class ContraWebflowRuntime {\n  private client: ContraClient;\n  private config: Required<RuntimeConfig>;\n  private state = new RuntimeState();\n  private debouncedReload: Map<string, () => void> = new Map();\n\n  constructor(config: RuntimeConfig) {\n    this.config = {\n      debug: false,\n      program: '',  // Default empty program\n      loadingClass: 'loading',\n      errorClass: 'error',\n      emptyClass: 'empty',\n      autoReload: true,\n      debounceDelay: 300,\n      maxRetries: 3,\n      // Pagination Configuration defaults\n      paginationMode: 'traditional',\n      infiniteScrollThreshold: 500,\n      preloadNextPage: true,\n      maxCachedPages: 5,\n      smoothScrollBehavior: 'auto',\n      loadMoreText: 'Load More',\n      // Video configuration defaults\n      videoAutoplay: false,      // No autoplay by default (better UX)\n      videoHoverPlay: true,       // Hover to play by default\n      videoMuted: true,           // Muted for autoplay compatibility\n      videoLoop: true,            // Loop videos\n      videoControls: false,       // No controls for cleaner look\n      ...config\n    };\n\n    this.client = new ContraClient({\n      apiKey: this.config.apiKey,\n      debug: this.config.debug\n    });\n\n    this.log('Runtime initialized', this.config);\n  }\n\n  /**\n   * Initialize the runtime and find all expert containers\n   */\n  async init(container: Element): Promise<void> {\n    this.log('Initializing runtime...');\n\n    try {\n      // Setup container state\n      this.setupContainer(container, container.getAttribute('data-program-id') || '');\n      \n      // Wire up filter controls\n      this.wireFilterControls(container, container.getAttribute('data-program-id') || '');\n      \n      // Wire up action buttons\n      this.wireActionButtons(container, container.getAttribute('data-program-id') || '');\n      \n      // Load initial data\n      await this.loadExperts(container, container.getAttribute('data-program-id') || '');\n\n    } catch (error) {\n      this.log(`Failed to initialize container for program ${container.getAttribute('data-program-id') || ''}`, error);\n      this.showError(container, error as Error);\n    }\n  }\n\n  /**\n   * Setup container with initial state and classes\n   */\n  private setupContainer(container: Element, programId: string): void {\n    const element = container as HTMLElement;\n    \n    // Add runtime classes and unique identifier\n    element.classList.add('contra-runtime');\n    element.setAttribute('data-contra-initialized', 'true');\n    element.setAttribute('data-program-id', programId); // Still set this for internal use\n    \n    // Parse initial filters from attributes\n    const initialFilters = this.parseFiltersFromElement(container);\n    \n    // Determine pagination mode\n    const paginationMode = this.determinePaginationMode(container);\n    \n    this.state.updateState(programId, { \n      filters: initialFilters,\n      paginationMode: paginationMode\n    });\n    \n    // Setup pagination\n    this.setupPagination(container, programId, paginationMode);\n    \n    // Create debounced reload function\n    const debouncedReload = utils.debounce(() => {\n      this.loadExperts(container, programId);\n    }, this.config.debounceDelay);\n    \n    this.debouncedReload.set(programId, debouncedReload);\n    \n    this.log(`Container setup complete for program: ${programId}`, { initialFilters, paginationMode });\n  }\n\n  /**\n   * Determine pagination mode from container attributes or config\n   */\n  private determinePaginationMode(container: Element): 'traditional' | 'infinite' | 'hybrid' {\n    const explicitMode = this.getAttr(container, 'pagination-mode') as 'traditional' | 'infinite' | 'hybrid';\n    return explicitMode || this.config.paginationMode;\n  }\n\n  /**\n   * Setup pagination system based on mode\n   */\n  private setupPagination(container: Element, programId: string, mode: 'traditional' | 'infinite' | 'hybrid'): void {\n    this.log(`Setting up ${mode} pagination for program: ${programId}`);\n    \n    if (mode === 'infinite' || mode === 'hybrid') {\n      this.setupInfiniteScroll(container, programId);\n    }\n    \n    if (mode === 'traditional' || mode === 'hybrid') {\n      this.setupTraditionalPagination(container, programId);\n    }\n    \n    // Setup load more button for hybrid/infinite modes\n    if (mode === 'infinite' || mode === 'hybrid') {\n      this.setupLoadMoreButton(container, programId);\n    }\n  }\n\n  /**\n   * Setup infinite scroll functionality\n   */\n  private setupInfiniteScroll(container: Element, programId: string): void {\n    let isScrolling = false;\n    \n    const handleScroll = utils.throttle(() => {\n      if (isScrolling) return;\n      \n      const state = this.state.getState(programId);\n      if (state.isInfiniteLoading || !state.hasNextPage) return;\n      \n      const scrollPosition = window.scrollY + window.innerHeight;\n      const documentHeight = document.documentElement.scrollHeight;\n      const threshold = this.config.infiniteScrollThreshold;\n      \n      if (scrollPosition >= documentHeight - threshold) {\n        isScrolling = true;\n        this.loadNextPageInfinite(container, programId).finally(() => {\n          isScrolling = false;\n        });\n      }\n    }, 100);\n    \n    window.addEventListener('scroll', handleScroll);\n    \n    // Store cleanup function\n    (container as any).__infiniteScrollCleanup = () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }\n\n  /**\n   * Setup traditional pagination button states\n   */\n  private setupTraditionalPagination(container: Element, programId: string): void {\n    // Will be handled in updatePaginationControls\n    this.updatePaginationControls(container, programId);\n  }\n\n  /**\n   * Setup load more button for infinite scroll\n   */\n  private setupLoadMoreButton(container: Element, programId: string): void {\n    const loadMoreButtons = this.querySelectorAll(container, '[data-contra-action=\"load-more\"]');\n    \n    loadMoreButtons.forEach(button => {\n      if (!button.textContent?.trim()) {\n        button.textContent = this.config.loadMoreText;\n      }\n    });\n  }\n\n  /**\n   * Wire up filter controls to auto-update\n   */\n  private wireFilterControls(container: Element, programId: string): void {\n    const filterControls = this.querySelectorAll(container, `[${ATTR_PREFIX}${ATTRS.filter}]`);\n    \n    this.log(`Found ${filterControls.length} filter controls for program: ${programId}`);\n\n    filterControls.forEach(control => {\n      const filterKey = this.getAttr(control, ATTRS.filter);\n      const filterType = this.getAttr(control, ATTRS.filterType) || 'replace';\n      \n      if (!filterKey) return;\n\n      // Add event listeners based on control type\n      if (control instanceof HTMLInputElement) {\n        const eventType = control.type === 'range' || control.type === 'number' ? 'input' : 'change';\n        \n        control.addEventListener(eventType, () => {\n          this.updateFilter(programId, filterKey, this.getControlValue(control), filterType);\n          if (this.config.autoReload) {\n            this.debouncedReload.get(programId)?.();\n          }\n        });\n        \n      } else if (control instanceof HTMLSelectElement) {\n        control.addEventListener('change', () => {\n          this.updateFilter(programId, filterKey, this.getControlValue(control), filterType);\n          if (this.config.autoReload) {\n            this.debouncedReload.get(programId)?.();\n          }\n        });\n      }\n      \n      this.log(`Wired filter control: ${filterKey} (${filterType})`, control);\n    });\n  }\n\n  /**\n   * Wire up action buttons (pagination, sorting, etc.)\n   */\n  private wireActionButtons(container: Element, programId: string): void {\n    const actionButtons = this.querySelectorAll(container, `[${ATTR_PREFIX}${ATTRS.action}]`);\n    \n    actionButtons.forEach(button => {\n      const action = this.getAttr(button, ATTRS.action);\n      const target = this.getAttr(button, ATTRS.target);\n      \n      if (!action) return;\n\n      button.addEventListener('click', (e) => {\n        e.preventDefault();\n        this.handleAction(programId, action, target, button);\n      });\n    });\n  }\n\n  /**\n   * Load experts for a program\n   */\n  private async loadExperts(container: Element, programId: string, isPageNavigation = false): Promise<void> {\n    const state = this.state.getState(programId);\n    \n    this.log(`Loading experts for program: ${programId}`, state.filters);\n\n    try {\n      // Show loading state\n      this.showLoading(container, true);\n      this.state.updateState(programId, { loading: true, error: null });\n\n      // Check cache first for page navigation\n      const currentPage = Math.floor((state.filters.offset || 0) / (state.filters.limit || 20)) + 1;\n      if (isPageNavigation && state.paginationMode === 'traditional') {\n        const cachedExperts = this.state.getCachedPage(programId, currentPage);\n        if (cachedExperts) {\n          this.log(`Using cached page ${currentPage}`);\n          this.renderExperts(container, cachedExperts);\n          this.state.updateState(programId, { \n            experts: cachedExperts, \n            currentPage: currentPage,\n            loading: false \n          });\n          this.updatePaginationControls(container, programId);\n          this.showLoading(container, false);\n          return;\n        }\n      }\n\n      // Fetch experts\n      const response = await this.client.listExperts(programId, state.filters);\n      \n      this.log(`Loaded ${response.data.length} experts`, response);\n\n      // Calculate pagination state - simplified to match React implementation\n      const limit = state.filters.limit || 20;\n      const offset = state.filters.offset || 0;\n      const page = Math.floor(offset / limit) + 1;\n      const totalPages = Math.ceil(response.totalCount / limit);\n      \n      // Simple pagination logic like React: if we got a full page, there might be more\n      const hasNextPage = response.data.length === limit;\n      const hasPreviousPage = page > 1;\n\n      // Update state with pagination info\n      this.state.updateState(programId, {\n        experts: response.data,\n        totalCount: response.totalCount,\n        currentPage: page,\n        hasNextPage: hasNextPage,\n        hasPreviousPage: hasPreviousPage,\n        loading: false\n      });\n\n      // Cache the page\n      this.state.cachePage(programId, page, response.data);\n\n      // Render experts\n      this.renderExperts(container, response.data);\n      \n      // Update UI states including pagination\n      this.updateUIStates(container, programId);\n      this.updatePaginationControls(container, programId);\n      \n      // Dispatch event\n      this.dispatchEvent(container, 'expertsLoaded', {\n        experts: response.data,\n        totalCount: response.totalCount,\n        filters: state.filters,\n        page: page,\n        totalPages: totalPages,\n        hasNextPage: hasNextPage,\n        hasPreviousPage: hasPreviousPage\n      } as ExpertLoadEvent);\n\n    } catch (error) {\n      this.log(`Failed to load experts for program: ${programId}`, error);\n      \n      this.state.updateState(programId, { \n        loading: false, \n        error: error as Error \n      });\n      \n      this.showError(container, error as Error);\n      \n      // Dispatch error event\n      this.dispatchEvent(container, 'expertsError', {\n        error: error as Error,\n        context: `Loading experts for program ${programId}`\n      } as ErrorEvent);\n    } finally {\n      this.showLoading(container, false);\n    }\n  }\n\n  /**\n   * Render experts into the container\n   */\n  private renderExperts(container: Element, experts: ExpertProfile[]): void {\n    const template = this.querySelector(container, `[${ATTR_PREFIX}${ATTRS.template}]`);\n    if (!template) {\n      this.log('No template found in container', container);\n      return;\n    }\n\n    // Clear only previously rendered expert cards\n    const existingCards = this.querySelectorAll(container, '.contra-rendered-item');\n    existingCards.forEach(card => card.remove());\n\n    // Render expert cards\n    experts.forEach(expert => {\n      const expertCard = this.populateExpertCard(template, expert);\n      container.appendChild(expertCard);\n    });\n\n    this.log(`Rendered ${experts.length} expert cards`);\n  }\n\n  /**\n   * Populate expert card from template\n   */\n  private populateExpertCard(template: Element, expert: ExpertProfile): Element {\n    const card = template.cloneNode(true) as Element;\n    \n    // Add a marker class to identify this as a rendered card\n    card.classList.add('contra-rendered-item');\n    \n    // Remove template attribute and show the card\n    card.removeAttribute(`${ATTR_PREFIX}${ATTRS.template}`);\n    (card as HTMLElement).style.display = '';\n\n    // Populate field bindings\n    this.populateFields(card, expert);\n    \n    // Handle repeating elements (projects, social links)\n    this.populateRepeatingElements(card, expert);\n    \n    // Handle conditional display\n    this.handleConditionalDisplay(card, expert);\n\n    return card;\n  }\n\n  /**\n   * Populate data fields in the card\n   */\n  private populateFields(card: Element, expert: ExpertProfile): void {\n    const fieldElements = this.querySelectorAll(card, `[${ATTR_PREFIX}${ATTRS.field}]`);\n    \n    fieldElements.forEach(element => {\n      const fieldName = this.getAttr(element, ATTRS.field) as ExpertField;\n      const format = this.getAttr(element, ATTRS.format);\n      \n      if (!fieldName || !(fieldName in expert)) return;\n\n      const value = expert[fieldName];\n      this.setElementValue(element, value, format);\n    });\n\n    // Handle star ratings\n    const starsElements = this.querySelectorAll(card, '[data-contra-stars]');\n    starsElements.forEach(element => {\n      if (expert.averageReviewScore) {\n        this.renderStarRating(element, expert.averageReviewScore);\n      }\n    });\n  }\n\n  /**\n   * Set element value with proper formatting\n   */\n  private setElementValue(element: Element, value: any, format?: string | null): void {\n    if (value == null || value === '') return;\n\n    // Media type detection and handling\n    if (this.isMediaField(element) && typeof value === 'string' && value.trim()) {\n      this.setMediaValue(element, value);\n      return;\n    }\n\n    if (element instanceof HTMLAnchorElement) {\n      element.href = String(value);\n      if (!element.textContent?.trim()) {\n        element.textContent = String(value);\n      }\n    } else if (element instanceof HTMLInputElement) {\n      element.value = String(value);\n    } else if (element instanceof HTMLImageElement) {\n      // Regular image handling for avatars and other images\n      element.src = String(value);\n      element.alt = element.alt || 'Image';\n    } else {\n      // Text content with formatting\n      let displayValue = String(value);\n      \n      if (format) {\n        switch (format) {\n          case 'currency':\n            displayValue = typeof value === 'number' ? `$${value}` : displayValue;\n            break;\n          case 'rate':\n            displayValue = utils.formatRate(typeof value === 'number' ? value : null);\n            break;\n          case 'rating':\n            // Format rating to one decimal place (5.0, 4.9, etc.)\n            displayValue = typeof value === 'number' ? value.toFixed(1) : displayValue;\n            break;\n          case 'earnings':\n            // Format earnings like $25k+\n            if (typeof value === 'number') {\n              if (value >= 1000000) {\n                displayValue = `$${Math.floor(value / 1000000)}M+`;\n              } else if (value >= 1000) {\n                displayValue = `$${Math.floor(value / 1000)}k+`;\n              } else {\n                displayValue = `$${value}`;\n              }\n            }\n            break;\n          case 'number':\n            displayValue = typeof value === 'number' ? value.toLocaleString() : displayValue;\n            break;\n          case 'truncate':\n            displayValue = displayValue.length > 100 ? displayValue.substring(0, 97) + '...' : displayValue;\n            break;\n          case 'boolean':\n            displayValue = value ? 'Yes' : 'No';\n            break;\n          case 'availability':\n            displayValue = value ? 'Available' : 'Not Available';\n            break;\n        }\n      }\n      \n      element.textContent = displayValue;\n    }\n  }\n\n  /**\n   * Star rating rendering with optional text display\n   */\n  private renderStarRating(element: Element, rating: number): void {\n    const fullStars = Math.floor(rating);\n    const hasHalfStar = rating % 1 >= 0.5;\n    const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);\n    \n    let starsHtml = '';\n    \n    // Full stars\n    for (let i = 0; i < fullStars; i++) {\n      starsHtml += '<span class=\"contra-star contra-star-full\">★</span>';\n    }\n    \n    // Half star\n    if (hasHalfStar) {\n      starsHtml += '<span class=\"contra-star contra-star-half\">★</span>';\n    }\n    \n    // Empty stars\n    for (let i = 0; i < emptyStars; i++) {\n      starsHtml += '<span class=\"contra-star contra-star-empty\">☆</span>';\n    }\n    \n    element.innerHTML = starsHtml;\n    \n    // Also update any rating text elements in the same card\n    const card = element.closest('[data-contra-template]') || element.closest('.expert-card');\n    if (card) {\n      const ratingTextElements = this.querySelectorAll(card, '[data-contra-rating-text]');\n      ratingTextElements.forEach(textElement => {\n        textElement.textContent = rating.toFixed(1);\n      });\n    }\n  }\n\n  /**\n   * Media type detection and element handling\n   */\n  private isMediaField(element: Element): boolean {\n    const field = this.getAttr(element, ATTRS.field);\n    // Only apply advanced media handling to project cover URLs, not avatars\n    return field === 'coverUrl';\n  }\n\n  /**\n   * Media value setting with automatic type detection\n   */\n  private setMediaValue(element: Element, url: string): void {\n    const mediaType = this.detectMediaType(url);\n    const parent = element.parentElement;\n    \n    if (!parent) {\n      this.log('Media element has no parent for replacement', element);\n      return;\n    }\n\n    // Remove existing media element\n    element.remove();\n\n    // Create appropriate media element\n    let mediaElement: HTMLElement;\n    \n    switch (mediaType) {\n      case 'video':\n        mediaElement = this.createVideoElement(url, element);\n        break;\n      case 'image':\n      default:\n        mediaElement = this.createImageElement(url, element);\n        break;\n    }\n\n    // Preserve classes and attributes from original element\n    this.transferAttributes(element, mediaElement);\n    \n    // Insert new media element\n    parent.appendChild(mediaElement);\n    \n    this.log(`Created ${mediaType} element for URL: ${url}`);\n  }\n\n  /**\n   * Detect media type from URL\n   */\n  private detectMediaType(url: string): 'image' | 'video' {\n    if (!url || typeof url !== 'string') {\n      this.log('Invalid URL provided to detectMediaType:', url);\n      return 'image';\n    }\n    \n    const urlLower = url.toLowerCase();\n    \n    // Video formats\n    const videoExtensions = ['.mp4', '.webm', '.mov', '.avi', '.mkv', '.ogg'];\n    const isVideo = videoExtensions.some(ext => urlLower.includes(ext));\n    \n    // Special handling for Cloudinary video URLs\n    const isCloudinaryVideo = urlLower.includes('cloudinary.com/') && urlLower.includes('/video/');\n    \n    return (isVideo || isCloudinaryVideo) ? 'video' : 'image';\n  }\n\n  /**\n   * Create video element with fallback\n   */\n  private createVideoElement(url: string, originalElement: Element): HTMLVideoElement {\n    const video = document.createElement('video');\n    \n    // Video attributes\n    video.src = url;\n    video.muted = this.config.videoMuted;\n    video.loop = this.config.videoLoop;\n    video.playsInline = true;\n    video.preload = 'metadata';\n    video.controls = this.config.videoControls;\n    \n    // Maintain aspect ratio and object-fit from original\n    video.style.width = '100%';\n    video.style.height = '100%';\n    video.style.objectFit = 'cover';\n    video.style.borderRadius = 'inherit';\n    \n    // Autoplay configuration\n    if (this.config.videoAutoplay) {\n      video.autoplay = true;\n      video.setAttribute('autoplay', '');\n    }\n    \n    // Error handling with fallback to poster or placeholder\n    video.onerror = () => {\n      this.log(`Video failed to load: ${url}`);\n      // Try to extract a thumbnail from Cloudinary video URL\n      const posterUrl = this.extractVideoThumbnail(url);\n      if (posterUrl) {\n        const fallbackImg = this.createImageElement(posterUrl, originalElement);\n        video.parentElement?.replaceChild(fallbackImg, video);\n      } else {\n        // Show placeholder\n        video.style.background = '#f3f4f6';\n        video.style.position = 'relative';\n        video.innerHTML = '<div style=\"position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#9ca3af;font-size:12px;\">Video unavailable</div>';\n      }\n    };\n\n    // Hover-to-play functionality (if enabled and not autoplay)\n    if (this.config.videoHoverPlay && !this.config.videoAutoplay) {\n      video.addEventListener('mouseenter', () => {\n        video.currentTime = 0;\n        video.play().catch(() => {\n          // Ignore play errors (browser policies)\n        });\n      });\n\n      video.addEventListener('mouseleave', () => {\n        video.pause();\n        video.currentTime = 0;\n      });\n    }\n\n    return video;\n  }\n\n  /**\n   * Create image element with error handling\n   */\n  private createImageElement(url: string, originalElement: Element): HTMLImageElement {\n    const img = document.createElement('img');\n    \n    img.src = url;\n    img.alt = originalElement.getAttribute('alt') || 'Media content';\n    img.loading = 'lazy';\n    \n    // Maintain styling\n    img.style.width = '100%';\n    img.style.height = '100%';\n    img.style.objectFit = 'cover';\n    img.style.borderRadius = 'inherit';\n    \n    // Error handling\n    img.onerror = () => {\n      this.log(`Image failed to load: ${url}`);\n      img.style.background = '#f3f4f6';\n      img.style.opacity = '0.5';\n      img.alt = 'Image unavailable';\n      \n      // Add broken image icon\n      img.style.position = 'relative';\n      const placeholder = document.createElement('div');\n      placeholder.style.cssText = `\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        color: #9ca3af;\n        font-size: 12px;\n        text-align: center;\n      `;\n      placeholder.textContent = '🖼️ Image unavailable';\n      img.parentElement?.appendChild(placeholder);\n    };\n\n    return img;\n  }\n\n  /**\n   * Extract video thumbnail from Cloudinary URL\n   */\n  private extractVideoThumbnail(videoUrl: string): string | null {\n    if (videoUrl.includes('cloudinary.com/') && videoUrl.includes('/video/')) {\n      // Convert video URL to image thumbnail\n      return videoUrl\n        .replace('/video/', '/image/')\n        .replace(/\\.(mp4|webm|mov|avi|mkv)$/i, '.jpg')\n        .replace('fl_progressive', 'f_auto,q_auto,c_fill');\n    }\n    return null;\n  }\n\n  /**\n   * Transfer attributes and classes from old element to new\n   */\n  private transferAttributes(from: Element, to: HTMLElement): void {\n    // Transfer classes\n    if (from.className) {\n      to.className = from.className;\n    }\n    \n    // Transfer data attributes (except contra-field)\n    Array.from(from.attributes).forEach(attr => {\n      if (attr.name.startsWith('data-') && attr.name !== `${ATTR_PREFIX}${ATTRS.field}`) {\n        to.setAttribute(attr.name, attr.value);\n      }\n    });\n    \n    // Transfer style\n    if (from.getAttribute('style')) {\n      const existingStyle = to.getAttribute('style') || '';\n      to.setAttribute('style', existingStyle + '; ' + from.getAttribute('style'));\n    }\n  }\n\n  /**\n   * Handle repeating elements (projects, social links)\n   */\n  private populateRepeatingElements(card: Element, expert: ExpertProfile): void {\n    const repeatElements = this.querySelectorAll(card, `[${ATTR_PREFIX}${ATTRS.repeat}]`);\n    \n    repeatElements.forEach(container => {\n      const repeatType = this.getAttr(container, ATTRS.repeat);\n      const maxItems = parseInt(this.getAttr(container, ATTRS.max) || '10');\n      \n      if (repeatType === 'projects' && expert.projects) {\n        this.populateRepeatingContainer(container, expert.projects.slice(0, maxItems));\n      } else if (repeatType === 'socialLinks' && expert.socialLinks) {\n        this.populateRepeatingContainer(container, expert.socialLinks.slice(0, maxItems));\n      } else if (repeatType === 'skillTags' && expert.skillTags) {\n        this.populateRepeatingContainer(container, expert.skillTags.slice(0, maxItems).map((tag: string) => ({ name: tag })));\n      }\n    });\n  }\n\n  /**\n   * Populate a repeating container with items\n   */\n  private populateRepeatingContainer(container: Element, items: any[]): void {\n    const template = container.firstElementChild;\n    if (!template) return;\n\n    // Clear existing items\n    container.innerHTML = '';\n    \n    // Create items from template\n    items.forEach(item => {\n      const itemElement = template.cloneNode(true) as Element;\n      this.populateFields(itemElement, item);\n      container.appendChild(itemElement);\n    });\n    \n    // Hide container if no items\n    if (items.length === 0) {\n      (container as HTMLElement).style.display = 'none';\n    }\n  }\n\n  /**\n   * Handle conditional display based on data\n   */\n  private handleConditionalDisplay(card: Element, expert: ExpertProfile): void {\n    const conditionalElements = this.querySelectorAll(card, `[${ATTR_PREFIX}${ATTRS.showWhen}], [${ATTR_PREFIX}${ATTRS.hideWhen}]`);\n    \n    conditionalElements.forEach(element => {\n      const showWhen = this.getAttr(element, ATTRS.showWhen);\n      const hideWhen = this.getAttr(element, ATTRS.hideWhen);\n      \n      let shouldShow = true;\n      \n      if (showWhen) {\n        shouldShow = this.evaluateCondition(expert, showWhen);\n      }\n      \n      if (hideWhen) {\n        shouldShow = shouldShow && !this.evaluateCondition(expert, hideWhen);\n      }\n      \n      (element as HTMLElement).style.display = shouldShow ? '' : 'none';\n    });\n  }\n\n  /**\n   * Evaluate a condition against expert data\n   */\n  private evaluateCondition(expert: ExpertProfile, condition: string): boolean {\n    if (!condition || typeof condition !== 'string') {\n      this.log('Invalid condition provided:', condition);\n      return false;\n    }\n    \n    // Parse condition: \"field:value\" or \"field:>value\" etc.\n    const parts = condition.split(':');\n    if (parts.length < 2) {\n      this.log('Invalid condition format:', condition);\n      return false;\n    }\n    \n    const field = parts[0];\n    const restOfCondition = parts.slice(1).join(':'); // Handle colons in values\n    const expertValue = (expert as any)[field];\n    \n    this.log(`Evaluating condition: ${field} (${expertValue}, type: ${typeof expertValue}) against ${restOfCondition}`);\n    \n    if (expertValue == null) {\n      this.log(`Field '${field}' is null/undefined, condition fails`);\n      return false;\n    }\n    \n    // Check for comparison operators\n    if (restOfCondition.startsWith('>=')) {\n      const value = restOfCondition.substring(2);\n      const result = Number(expertValue) >= Number(value);\n      this.log(`Comparison: ${expertValue} >= ${value} = ${result}`);\n      return result;\n    } else if (restOfCondition.startsWith('<=')) {\n      const value = restOfCondition.substring(2);\n      const result = Number(expertValue) <= Number(value);\n      this.log(`Comparison: ${expertValue} <= ${value} = ${result}`);\n      return result;\n    } else if (restOfCondition.startsWith('>')) {\n      const value = restOfCondition.substring(1);\n      const result = Number(expertValue) > Number(value);\n      this.log(`Comparison: ${expertValue} > ${value} = ${result}`);\n      return result;\n    } else if (restOfCondition.startsWith('<')) {\n      const value = restOfCondition.substring(1);\n      const result = Number(expertValue) < Number(value);\n      this.log(`Comparison: ${expertValue} < ${value} = ${result}`);\n      return result;\n    } else {\n      // Direct value comparison with type-aware handling\n      let result = false;\n      \n      // Handle boolean fields specially\n      if (typeof expertValue === 'boolean') {\n        // Convert string condition to boolean for comparison\n        if (restOfCondition.toLowerCase() === 'true') {\n          result = expertValue === true;\n        } else if (restOfCondition.toLowerCase() === 'false') {\n          result = expertValue === false;\n        } else {\n          result = false;\n        }\n        this.log(`Boolean comparison: ${expertValue} === ${restOfCondition.toLowerCase() === 'true'} = ${result}`);\n      } else if (typeof expertValue === 'number') {\n        // Handle numeric comparisons\n        const numValue = Number(restOfCondition);\n        result = !isNaN(numValue) && expertValue === numValue;\n        this.log(`Number comparison: ${expertValue} === ${numValue} = ${result}`);\n      } else {\n        // String comparison (case-insensitive)\n        const expertStr = String(expertValue);\n        const valueStr = String(restOfCondition);\n        result = expertStr.toLowerCase() === valueStr.toLowerCase();\n        this.log(`String comparison: '${expertStr}' === '${valueStr}' = ${result}`);\n      }\n      \n      return result;\n    }\n  }\n\n  /**\n   * Update UI states based on current data\n   */\n  private updateUIStates(container: Element, programId: string): void {\n    const state = this.state.getState(programId);\n    \n    // Show/hide empty state\n    const emptyElement = this.querySelector(container, `[${ATTR_PREFIX}${ATTRS.empty}]`);\n    if (emptyElement) {\n      (emptyElement as HTMLElement).style.display = state.experts.length === 0 ? '' : 'none';\n    }\n    \n    // Update pagination info\n    const paginationElements = this.querySelectorAll(container, '[data-contra-pagination-info]');\n    paginationElements.forEach(element => {\n      const { currentPage, totalCount } = state;\n      const pageSize = state.filters.limit || 20;\n      const totalPages = Math.ceil(totalCount / pageSize);\n      \n      element.textContent = `Page ${currentPage} of ${totalPages} (${totalCount} total)`;\n    });\n    \n    // Update filter summaries\n    const filterSummaries = this.querySelectorAll(container, '[data-contra-filter-summary]');\n    filterSummaries.forEach(element => {\n      const activeFilters = Object.entries(state.filters)\n        .filter(([_key, value]) => value != null && value !== '')\n        .map(([key, value]) => `${key}: ${value}`)\n        .join(', ');\n      \n      element.textContent = activeFilters || 'No filters applied';\n    });\n  }\n\n  /**\n   * Handle action buttons (pagination, sorting, etc.)\n   */\n  private handleAction(programId: string, action: string, _target?: string | null, button?: Element): void {\n    const state = this.state.getState(programId);\n    const container = document.querySelector(`[data-program-id=\"${programId}\"]`);\n    \n    if (!container) {\n      this.log(`Container not found for program: ${programId}`);\n      return;\n    }\n\n    // Show button feedback\n    if (button && button instanceof HTMLButtonElement) {\n      const originalText = button.textContent;\n      button.disabled = true;\n    }\n    \n    switch (action) {\n      case 'next-page':\n        const limit = state.filters.limit || 20;\n        const nextOffset = (state.filters.offset || 0) + limit;\n        \n        if (nextOffset < state.totalCount) {\n          this.updateFilter(programId, 'offset', nextOffset);\n          // Use page navigation mode for caching\n          setTimeout(() => {\n            this.loadExperts(container as Element, programId, true);\n          }, 0);\n        }\n        break;\n        \n      case 'prev-page':\n        const prevOffset = Math.max(0, (state.filters.offset || 0) - (state.filters.limit || 20));\n        this.updateFilter(programId, 'offset', prevOffset);\n        // Use page navigation mode for caching\n        setTimeout(() => {\n          this.loadExperts(container as Element, programId, true);\n        }, 0);\n        break;\n        \n      case 'load-more':\n        // Handle load more for all pagination modes\n        this.loadMoreExperts(container as Element, programId).finally(() => {\n          if (button && button instanceof HTMLButtonElement) {\n            button.disabled = false;\n          }\n        });\n        return; // Exit early to avoid re-enabling button\n        \n      case 'first-page':\n        this.updateFilter(programId, 'offset', 0);\n        setTimeout(() => {\n          this.loadExperts(container as Element, programId, true);\n        }, 0);\n        break;\n        \n      case 'last-page':\n        const lastPageOffset = Math.max(0, Math.floor((state.totalCount - 1) / (state.filters.limit || 20)) * (state.filters.limit || 20));\n        this.updateFilter(programId, 'offset', lastPageOffset);\n        setTimeout(() => {\n          this.loadExperts(container as Element, programId, true);\n        }, 0);\n        break;\n        \n      case 'clear-filters':\n        // Reset pagination when clearing filters\n        this.state.updateState(programId, { \n          filters: { limit: state.filters.limit }, // Keep limit\n          currentPage: 1,\n          cachedPages: new Map() // Clear cache\n        });\n        if (this.config.autoReload) {\n          this.debouncedReload.get(programId)?.();\n        }\n        break;\n        \n      case 'reload':\n        // Clear cache and reload\n        this.state.updateState(programId, { cachedPages: new Map() });\n        this.client.clearCache(`experts:${programId}`);\n        if (this.config.autoReload) {\n          this.debouncedReload.get(programId)?.();\n        }\n        break;\n    }\n    \n    // Re-enable button after action completes\n    if (button && button instanceof HTMLButtonElement && action !== 'load-more') {\n      setTimeout(() => {\n        button.disabled = false;\n      }, 100);\n    }\n  }\n\n  /**\n   * Load more experts - unified method for all pagination modes\n   */\n  private async loadMoreExperts(container: Element, programId: string): Promise<void> {\n    const state = this.state.getState(programId);\n    const limit = state.filters.limit || 20;\n    \n    // Calculate next offset based on currently loaded experts\n    const currentOffset = state.experts.length;\n    \n    this.log(`Loading more experts: currentOffset=${currentOffset}, limit=${limit}`);\n\n    try {\n      this.state.updateState(programId, { isInfiniteLoading: true });\n      this.updateLoadMoreButtonState(container, programId, true);\n\n      // Fetch next batch - use current expert count as offset\n      const response = await this.client.listExperts(programId, {\n        ...state.filters,\n        offset: currentOffset,\n        limit: limit\n      });\n\n      this.log(`Loaded ${response.data.length} more experts from offset ${currentOffset}`);\n\n      // Append new experts to existing ones (like React implementation)\n      const allExperts = [...state.experts, ...response.data];\n      \n      // Simple pagination logic: if we got a full page, there might be more\n      const hasNextPage = response.data.length === limit;\n      \n      this.state.updateState(programId, {\n        experts: allExperts,\n        totalCount: response.totalCount,\n        hasNextPage: hasNextPage,\n        isInfiniteLoading: false\n      });\n\n      // Render only the new experts (append mode)\n      this.renderNewExperts(container, response.data);\n      \n      // Update pagination controls\n      this.updatePaginationControls(container, programId);\n\n      // Dispatch event\n      this.dispatchEvent(container, 'expertsLoaded', {\n        experts: response.data,\n        totalExperts: allExperts,\n        totalCount: response.totalCount,\n        isLoadMore: true\n      });\n\n    } catch (error) {\n      this.log(`Failed to load more experts`, error);\n      this.state.updateState(programId, { isInfiniteLoading: false });\n      \n      // Show error in load more button\n      this.updateLoadMoreButtonState(container, programId, false, 'Error loading more');\n      \n      setTimeout(() => {\n        this.updateLoadMoreButtonState(container, programId, false);\n      }, 3000);\n    } finally {\n      this.updateLoadMoreButtonState(container, programId, false);\n    }\n  }\n\n  /**\n   * Update load more button state\n   */\n  private updateLoadMoreButtonState(container: Element, programId: string, loading: boolean, errorText?: string): void {\n    const loadMoreButtons = this.querySelectorAll(container, '[data-contra-action=\"load-more\"]');\n    const state = this.state.getState(programId);\n    \n    loadMoreButtons.forEach(button => {\n      const btnElement = button as HTMLButtonElement;\n      \n      if (errorText) {\n        btnElement.textContent = errorText;\n        btnElement.disabled = true;\n        btnElement.classList.add('error');\n        return;\n      }\n      \n      btnElement.classList.remove('error');\n      \n      if (loading) {\n        btnElement.textContent = 'Loading...';\n        btnElement.disabled = true;\n        btnElement.classList.add('loading');\n      } else {\n        btnElement.classList.remove('loading');\n        const hasMore = state.hasNextPage;\n        \n        if (hasMore) {\n          btnElement.textContent = this.config.loadMoreText;\n          btnElement.disabled = false;\n        } else {\n          btnElement.textContent = 'All experts loaded';\n          btnElement.disabled = true;\n          btnElement.classList.add('disabled');\n        }\n      }\n    });\n  }\n\n  /**\n   * Load next page for infinite scroll\n   */\n  private async loadNextPageInfinite(container: Element, programId: string): Promise<void> {\n    // Use the unified loadMoreExperts method\n    return this.loadMoreExperts(container, programId);\n  }\n\n  /**\n   * Update pagination control states\n   */\n  private updatePaginationControls(container: Element, programId: string): void {\n    const state = this.state.getState(programId);\n    const limit = state.filters.limit || 20;\n    const totalPages = Math.ceil(state.totalCount / limit);\n    \n    // Update button states\n    const prevButtons = this.querySelectorAll(container, '[data-contra-action=\"prev-page\"]');\n    const nextButtons = this.querySelectorAll(container, '[data-contra-action=\"next-page\"]');\n\n    // Previous page buttons\n    prevButtons.forEach(button => {\n      const btnElement = button as HTMLButtonElement;\n      btnElement.disabled = state.currentPage <= 1;\n      btnElement.classList.toggle('disabled', state.currentPage <= 1);\n    });\n\n    // Next page buttons\n    nextButtons.forEach(button => {\n      const btnElement = button as HTMLButtonElement;\n      btnElement.disabled = state.currentPage >= totalPages;\n      btnElement.classList.toggle('disabled', state.currentPage >= totalPages);\n    });\n\n    // Update load more buttons\n    this.updateLoadMoreButtonState(container, programId, state.isInfiniteLoading);\n\n    // Update pagination info elements\n    const paginationInfoElements = this.querySelectorAll(container, '[data-contra-pagination-info]');\n    paginationInfoElements.forEach(element => {\n      const loadedCount = state.experts.length;\n      const totalCount = state.totalCount;\n      \n      // Different info based on pagination mode\n      if (state.paginationMode === 'infinite' || state.paginationMode === 'hybrid') {\n        element.textContent = `Showing ${loadedCount} of ${totalCount} experts`;\n      } else {\n        element.textContent = `Page ${state.currentPage} of ${totalPages} (${totalCount} total)`;\n      }\n    });\n\n    this.log(`Pagination controls updated: loaded ${state.experts.length}/${state.totalCount}, hasNext: ${state.hasNextPage}`);\n  }\n\n  /**\n   * Update infinite loading state\n   */\n  private updateInfiniteLoadingState(container: Element, loading: boolean): void {\n    const loadingIndicators = this.querySelectorAll(container, '[data-contra-infinite-loading]');\n    \n    loadingIndicators.forEach(indicator => {\n      (indicator as HTMLElement).style.display = loading ? '' : 'none';\n    });\n  }\n\n  /**\n   * Render new experts for infinite scroll (append mode)\n   */\n  private renderNewExperts(container: Element, newExperts: ExpertProfile[]): void {\n    const template = this.querySelector(container, `[${ATTR_PREFIX}${ATTRS.template}]`);\n    if (!template) {\n      this.log('No template found for rendering new experts', container);\n      return;\n    }\n\n    // Create a document fragment for efficient DOM manipulation\n    const fragment = document.createDocumentFragment();\n\n    newExperts.forEach(expert => {\n      const expertCard = this.populateExpertCard(template, expert);\n      fragment.appendChild(expertCard);\n    });\n\n    // Append all new cards at once\n    container.appendChild(fragment);\n\n    this.log(`Rendered ${newExperts.length} new expert cards for load more`);\n  }\n\n  // ... (utility methods continue below)\n\n  /**\n   * Utility Methods\n   */\n  private getAttr(element: Element, name: string): string | null {\n    return element.getAttribute(`${ATTR_PREFIX}${name}`);\n  }\n\n  private querySelector(element: Element, selector: string): Element | null {\n    return element.querySelector(selector);\n  }\n\n  private querySelectorAll(element: Element, selector: string): Element[] {\n    return Array.from(element.querySelectorAll(selector));\n  }\n\n  private findExpertContainers(): Element[] {\n    this.log('Looking for expert containers...');\n    this.log('Document ready state:', document.readyState);\n    this.log('Total elements in document:', document.querySelectorAll('*').length);\n    \n    // Simple and reliable approach: look for any element with key contra attributes\n    const selectors = [\n      '[data-contra-limit]',\n      '[data-contra-pagination-mode]', \n      '[data-contra-template]'\n    ];\n    \n    const foundElements: Element[] = [];\n    \n    for (const selector of selectors) {\n      const elements = Array.from(document.querySelectorAll(selector));\n      this.log(`Found ${elements.length} elements with selector: ${selector}`, elements);\n      foundElements.push(...elements);\n    }\n    \n    // If no elements found, try a broader search\n    if (foundElements.length === 0) {\n      this.log('No elements found with standard selectors, trying broader search...');\n      \n      // Look for any data-contra attributes\n      const allContraElements = Array.from(document.querySelectorAll('[data-contra-limit], [data-contra-template], [data-contra-pagination-mode], [class*=\"contra\"], [id*=\"contra\"]'));\n      this.log(`Found ${allContraElements.length} elements with any contra attributes:`, allContraElements);\n      \n      // Look for the specific container structure we expect\n      const containerCandidates = Array.from(document.querySelectorAll('div')).filter(div => {\n        const hasLimit = div.hasAttribute('data-contra-limit');\n        const hasTemplate = div.querySelector('[data-contra-template]');\n        const hasContraClass = div.className.includes('contra');\n        return hasLimit || hasTemplate || hasContraClass;\n      });\n      \n      this.log(`Found ${containerCandidates.length} potential container candidates:`, containerCandidates);\n      foundElements.push(...containerCandidates);\n    }\n    \n    // Get unique containers\n    const containers = new Set<Element>();\n    \n    for (const element of foundElements) {\n      // If element has limit or pagination-mode, it's a container\n      if (element.hasAttribute('data-contra-limit') || element.hasAttribute('data-contra-pagination-mode')) {\n        containers.add(element);\n        this.log('Found container (has limit/pagination):', element);\n      } \n      // If element is a template, its parent is the container\n      else if (element.hasAttribute('data-contra-template')) {\n        const parent = element.parentElement;\n        if (parent) {\n          containers.add(parent);\n          this.log('Found container (template parent):', parent);\n        }\n      }\n      // If element has contra class, check if it's a container\n      else if (element.className.includes('contra')) {\n        // Check if this element or its children have the structure we need\n        const hasTemplate = element.querySelector('[data-contra-template]');\n        if (hasTemplate) {\n          containers.add(element);\n          this.log('Found container (has contra class and template):', element);\n        }\n      }\n    }\n    \n    const uniqueContainers = Array.from(containers);\n    this.log(`Total unique containers found: ${uniqueContainers.length}`, uniqueContainers);\n    \n    // If still no containers found, log detailed debugging info\n    if (uniqueContainers.length === 0) {\n      this.log('❌ No containers found! Debugging info:');\n      this.log('- Document body HTML:', document.body?.innerHTML?.substring(0, 500) + '...');\n      this.log('- All divs:', Array.from(document.querySelectorAll('div')).slice(0, 10));\n      this.log('- Elements with data attributes:', Array.from(document.querySelectorAll('[data-contra-limit], [data-contra-template], [data-contra-pagination-mode]')));\n    }\n    \n    return uniqueContainers;\n  }\n\n  private parseFiltersFromElement(element: Element): ExpertFilters {\n    const filters: ExpertFilters = {};\n    \n    // Parse filter attributes\n    const filterMap = {\n      'available': 'available',\n      'languages': 'languages', \n      'location': 'location',\n      'min-rate': 'minRate',\n      'max-rate': 'maxRate',\n      'sort': 'sortBy',\n      'limit': 'limit',\n      'offset': 'offset'\n    };\n\n    Object.entries(filterMap).forEach(([attr, filterKey]) => {\n      const value = this.getAttr(element, attr);\n      if (value != null) {\n        if (filterKey === 'available') {\n          (filters as any)[filterKey] = value === 'true';\n        } else if (filterKey === 'languages') {\n          (filters as any)[filterKey] = value.split(',').map(v => v.trim());\n        } else if (['minRate', 'maxRate', 'limit', 'offset'].includes(filterKey)) {\n          (filters as any)[filterKey] = parseInt(value);\n        } else {\n          (filters as any)[filterKey] = value;\n        }\n      }\n    });\n\n    // Ensure offset defaults to 0 if not specified\n    if (filters.offset === undefined) {\n      filters.offset = 0;\n    }\n\n    return filters;\n  }\n\n  private getControlValue(control: HTMLInputElement | HTMLSelectElement): any {\n    if (control instanceof HTMLInputElement) {\n      switch (control.type) {\n        case 'checkbox':\n          return control.checked;\n        case 'number':\n        case 'range':\n          return control.valueAsNumber;\n        default:\n          return control.value;\n      }\n    } else if (control instanceof HTMLSelectElement) {\n      if (control.multiple) {\n        return Array.from(control.selectedOptions).map(option => option.value);\n      }\n      return control.value;\n    }\n    return null;\n  }\n\n  private updateFilter(programId: string, filterKey: string, value: any, type: string = 'replace'): void {\n    const state = this.state.getState(programId);\n    const newFilters = { ...state.filters };\n\n    // Handle special cases for filter value conversion\n    let processedValue = value;\n    \n    if (filterKey === 'available') {\n      // Convert string values to boolean for availability filter\n      if (typeof value === 'string') {\n        if (value === 'true') {\n          processedValue = true;\n        } else if (value === 'false') {\n          processedValue = false;\n        } else if (value === '' || value === null) {\n          processedValue = undefined; // No filter\n        }\n      }\n    } else if (filterKey === 'minRate' || filterKey === 'maxRate') {\n      // Convert empty strings to undefined for rate filters\n      if (value === '' || value === null) {\n        processedValue = undefined;\n      } else {\n        processedValue = Number(value);\n      }\n    }\n\n    if (type === 'append' && Array.isArray(newFilters[filterKey as keyof ExpertFilters])) {\n      const currentArray = newFilters[filterKey as keyof ExpertFilters] as any[];\n      newFilters[filterKey as keyof ExpertFilters] = [...currentArray, processedValue] as any;\n    } else {\n      (newFilters as any)[filterKey] = processedValue;\n    }\n\n    // Reset offset to 0 when any filter changes (except offset itself)\n    // This ensures we start from the beginning when filters change\n    if (filterKey !== 'offset') {\n      newFilters.offset = 0;\n    }\n\n    this.state.updateState(programId, { filters: newFilters });\n    \n    this.log(`Filter updated: ${filterKey} = ${processedValue} (original: ${value})`);\n    \n    // Dispatch filter change event\n    const event: FilterChangeEvent = {\n      filters: newFilters,\n      element: document.querySelector(`[data-program-id=\"${programId}\"]`) as HTMLElement\n    };\n    \n    this.dispatchEvent(document as any, 'filterChange', event);\n  }\n\n  private showLoading(container: Element, show: boolean): void {\n    const loadingElement = this.querySelector(container, `[${ATTR_PREFIX}${ATTRS.loading}]`);\n    if (loadingElement) {\n      (loadingElement as HTMLElement).style.display = show ? '' : 'none';\n    }\n    \n    (container as HTMLElement).classList.toggle(this.config.loadingClass, show);\n  }\n\n  private showError(container: Element, error: Error): void {\n    const errorElement = this.querySelector(container, `[${ATTR_PREFIX}${ATTRS.error}]`);\n    if (errorElement) {\n      errorElement.textContent = error.message;\n      (errorElement as HTMLElement).style.display = '';\n    }\n    \n    (container as HTMLElement).classList.add(this.config.errorClass);\n    this.log('Error displayed', error);\n  }\n\n  private dispatchEvent(target: Element | Document, eventName: string, detail: any): void {\n    const event = new CustomEvent(`contra:${eventName}`, { detail });\n    target.dispatchEvent(event);\n  }\n\n  private log(message: string, ...args: any[]): void {\n    if (this.config.debug) {\n      console.log(`[ContraWebflow] ${message}`, ...args);\n    }\n  }\n}\n\n/**\n * Auto-initialize runtime when DOM is ready\n */\nfunction autoInit(): void {\n  const configElement = document.getElementById('contra-config');\n  if (!configElement) {\n    console.warn('[ContraWebflow] No config element found. Runtime not initialized.');\n    return;\n  }\n\n  try {\n    const multiConfig = JSON.parse(configElement.textContent || '{}');\n    const baseConfig = (multiConfig.global || {});\n\n    console.log('[ContraWebflow] Initializing with multi-instance config:', multiConfig);\n\n    // Find all elements with a data-contra-instance attribute\n    const instances = document.querySelectorAll('[data-contra-instance]');\n\n    instances.forEach(instanceElement => {\n      const instanceId = instanceElement.getAttribute('data-contra-instance');\n      if (instanceId && multiConfig[instanceId]) {\n        // Combine global config with instance-specific config\n        const instanceConfig = {\n          ...baseConfig,\n          ...multiConfig[instanceId],\n          apiKey: baseConfig.apiKey, // Ensure API key is not overridden\n          debug: baseConfig.debug    // Ensure debug flag is not overridden\n        };\n        \n        console.log(`[ContraWebflow] Found instance \"${instanceId}\". Initializing...`, instanceConfig);\n\n        const runtime = new ContraWebflowRuntime(instanceConfig);\n        \n        // Pass the container element directly to the init method\n        runtime.init(instanceElement).catch(error => {\n          console.error(`[ContraWebflow] Runtime initialization failed for instance \"${instanceId}\":`, error);\n        });\n\n      } else {\n        console.warn(`[ContraWebflow] Found instance element but no config for ID: \"${instanceId}\"`);\n      }\n    });\n\n  } catch (error) {\n    console.error('[ContraWebflow] Failed to parse config:', error);\n  }\n}\n\n// Auto-initialize when DOM is ready with multiple fallbacks\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', autoInit);\n} else if (document.readyState === 'interactive') {\n  // DOM is ready but resources might still be loading\n  setTimeout(autoInit, 50);\n} else {\n  // DOM and resources are ready\n  autoInit();\n}\n\n// Export runtime class for manual initialization\nexport { ContraWebflowRuntime as default }; "]}